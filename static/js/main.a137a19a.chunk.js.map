{"version":3,"sources":["actions/index.js","constants/uids.js","constants/settings.js","components/OpenUrlDlg.js","components/CinePlayer.js","functions.js","db.js","components/dicomviewer.js","components/HeaderItem.js","components/MeasureItem.js","components/Settings.js","components/OpenUrl.js","App.js","serviceWorker.js","store/index.js","reducers/index.js","index.js"],"names":["LOAD_LOCALFILE","LOAD_URL","DCM_IS_OPEN","DCM_NUMBER_OF_FRAMES","DCM_TOOL","DCMDATA_STORE","MEASURE_STORE","MEASURE_REMOVE","MEASURE_CLEAR","dcmTool","tool","type","uids","SETTINGS_SAVEAS","SETTINGS_DCMHEADER","SETTINGS_OVERLAY","SETTINGS_MEASUREMENT","OpenUrlDlg","hide","props","onClose","cancel","window","stop","actions","push","flat","onClick","this","modal","id","visible","onHide","title","value","progress","determinate","PureComponent","CinePlayer","firstframe","runCinePlayer","previousframe","play","pause","nextframe","lastframe","inPlay","icon","style","width","margin","getSettingsOverlay","overlay","localStorage","getItem","setItem","toCsvValue","theValue","t","replace","String","db","Dexie","version","stores","measurement","open","scrollToIndex","csTools","getBlobUrl","url","baseUrl","URL","webkitURL","blob","Blob","createObjectURL","config","maxWebWorkers","webWorkerPath","taskConfiguration","decodeTask","codecsPath","console","log","cornerstone","cornerstoneWADOImageLoader","dicomParser","DicomViewer","state","imageWidth","imageHeight","file","visibleOpenUrlDlg","visibleCinePlayer","frame","viewport","onOpenUrl","e","eventData","detail","setState","percentComplete","showOpenUrlDlg","addEventListener","loadImage","undefined","hideOpenUrlDlg","getTransferSyntax","image","data","string","getSopClass","getSopInstanceUID","getPixelRepresentation","uint16","getPlanarConfiguration","onImageRendered","isBrowser","innerWidth","innerHeight","target","document","getElementById","textContent","dataHeader","PatientsName","displayedArea","brhc","x","Math","round","voi","windowWidth","windowCenter","scale","toFixed","numberOfFrames","measure","onMeasurementAdded","measurementData","onMeasurementModified","onMeasurementCompleted","note","measurementStore","localfile","localfileStore","urlStore","element","dicomImage","onNewImage","cornerstoneTools","isMobile","touchEnabled","mouseEnabled","imageId","fileManager","add","then","isOpenStore","dataStore","minPixelValue","maxPixelValue","transferSyntax","sopClass","sopInstanceUid","samplesPerPixel","photometricInterpretation","planarConfiguration","rows","columns","pixelSpacing","bitsAllocated","bitsStored","highBit","pixelRepresentation","rescaleIntercept","rescaleSlope","basicOffsetTable","elements","x7fe00010","length","fragments","minStoredPixelValue","maxStoredPixelValue","stack","currentImageIdIndex","imageIds","nFrames","intString","numberOfFramesStore","i","WwwcTool","LengthTool","PanTool","ZoomTouchPinchTool","ZoomTool","ProbeTool","EllipticalRoiTool","RectangleRoiTool","AngleTool","MagnifyTool","StackScrollMouseWheelTool","where","equals","each","runTool","enableTool","toolName","mouseButtonNumber","disableAllTools","opt","mouseButtonMask","isTouchActive","name","reset","measurementRemoveStore","forEach","measurementClearStore","delete","sopinstanceuid","error","changeTool","cmdName","defaultViewport","dicomImageRef","el","cornerstoneMath","cornerstoneWebImageLoader","initialize","Hammer","scrollTo","body","styleDicomImage","height","top","heightToolbar","left","position","cinePlayer","frameLabel","marginTop","textAlign","color","className","display","role","tabIndex","onContextMenu","unselectable","onMouseDown","ref","isOpen","right","bottom","React","Component","connect","loadLocalfile","header","dispatch","dcmIsOpen","dcmNumberOfFrames","toolStore","loadUrl","dcmDataStore","measureStore","index","measureRemove","HeaderItem","primaryText","secondaryText","threeLines","secondaryTextStyle","fontSize","pStyle","sStyle","MeasureItem","visibleDlgNote","visibleDlgDelete","showDlgNote","hideDlgNote","showDlgDelete","hideDlgDelete","confirmNote","refs","noteField","confirmDelete","toolRemove","onEdit","onDelete","item","pText","sText","unit","rAngle","cachedStats","area","mean","stdDev","primaryTextStyle","renderChildrenOutside","primary","secondary","label","placeholder","defaultValue","maxWidth","indexedDBsection","isIndexedDB","defaultChecked","onChange","setSettingsMeasurement","Settings","exportAs","getSettingsDcmHeader","saveAs","getSettingsSaveAs","getSettingsMeasurement","fixed","nav","setSettingsSaveAs","controls","setSettingsDcmHeader","setSettingsOverlay","styleUrl","styleText","padding","styleButton","OpenUrl","urlField","current","createRef","fullWidth","iconColor","iconTool","App","menuListItems","key","leftIcon","showFileOpen","showOpenUrl","divider","path","mdiCursorDefault","size","toolExecute","menuListSetting","visibleDcm","visibleMain","visibleHeader","visibleSettings","visibleToolbar","visibleOpenUrl","visibleMeasure","visibleClearMeasureDlg","toolState","handleChange","filesSelected","showDrawer","hideDrawer","handleVisibility","showHeader","hideHeader","handleVisibilityHeader","saveHeader","fileData","objArray","cDelimiter","l","obj","row","n","nl","names","output","sDelimiter","hasOwnProperty","join","substring","toCsv","reduce","o","JSON","stringify","createElement","href","download","appendChild","click","saveMeasure","showMeasure","hideMeasure","handleVisibilityMeasure","clearMeasure","showClearMeasureDlg","hideClearMeasureDlg","confirmClearMeasureDlg","showSettings","hideSettings","handleVisibilitySettings","hideOpenUrl","openDlg","downloadOpenUrl","resetImage","saveShot","toolChange","fileOpen","bind","dialog","deviceDetect","styleTitleToolbar","files","mdiFileCad","mdiFileDocument","component","transitionName","transitionEnterTimeout","transitionLeave","Drawer","DrawerTypes","TEMPORARY","onVisibilityChange","renderNode","navItems","map","mdiContentSaveOutline","mdiTrashCanOutline","titleStyle","Boolean","location","hostname","match","store","createStore","action","splice","__REDUX_DEVTOOLS_EXTENSION__","WebFontLoader","load","google","families","subscribe","getState","ReactDOM","render","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.a137a19a.chunk.js","sourcesContent":["/*\r\n * action types\r\n */\r\n\r\nexport const LOAD_LOCALFILE = 'LOAD_LOCALFILE'\r\nexport const LOAD_URL = 'LOAD_URL'\r\nexport const DCM_IS_OPEN = 'DCM_IS_OPEN'\r\nexport const DCM_NUMBER_OF_FRAMES = 'DCM_NUMBER_OF_FRAMES'\r\nexport const DCM_TOOL = 'DCM_TOOL'\r\nexport const DCMDATA_STORE = 'DCMDATA_STORE'\r\nexport const MEASURE_STORE = 'MEASURE_STORE'\r\nexport const MEASURE_REMOVE = 'MEASURE_REMOVE'\r\nexport const MEASURE_CLEAR = 'MEASURE_CLEAR'\r\n\r\n/*\r\n * action creators\r\n */\r\n\r\nexport const loadLocalfile = (file) => {\r\n    return { \r\n        type: LOAD_LOCALFILE, \r\n        localfile: file \r\n    }\r\n}\r\n\r\nexport const loadUrl = (url) => {\r\n    return { \r\n        type: LOAD_URL, \r\n        url: url \r\n    }\r\n}\r\n\r\nexport const dcmIsOpen = (value) => {\r\n    return { \r\n        type: DCM_IS_OPEN, \r\n        value: value \r\n    }\r\n}\r\n\r\nexport const dcmNumberOfFrames = (value) => {\r\n    return { \r\n        type: DCM_NUMBER_OF_FRAMES, \r\n        value: value \r\n    }\r\n}\r\n\r\nexport const dcmTool = (tool) => {\r\n    return { \r\n        type: DCM_TOOL, \r\n        tool: tool \r\n    }\r\n}\r\n\r\nexport const dcmDataStore = (data) => {\r\n    return { \r\n        type: DCMDATA_STORE, \r\n        data: data \r\n    }\r\n}\r\n\r\n\r\nexport const measureStore = (measure) => {\r\n    return { \r\n        type: MEASURE_STORE, \r\n        measure: measure \r\n    }\r\n}\r\n\r\nexport const measureRemove = (index) => {\r\n    return { \r\n        type: MEASURE_REMOVE, \r\n        index: index \r\n    }\r\n}\r\n\r\nexport const measureClear = () => {\r\n    return { \r\n        type: MEASURE_CLEAR, \r\n    }\r\n}","// The table below was generated by running the following javascript in the console window while\n// viewing the HTML version of the standard here:\n// DICOM Standard here: http://dicom.nema.org/medical/dicom/current/output/html/part06.html\n// see the blog post about it here: http://chafey.blogspot.com/2015/08/parsing-dicom-standard-with-javascript.html\n\n/*\n (function () {\n var elements = document.querySelectorAll('#table_A-1 ~ div tbody tr');\n var result = \"\";for(var i=0; i < elements.length; i++) {\n result += \"'\" + elements[i].childNodes[1].childNodes[1].innerText.replace(/[^\\x20-\\x7E]+/g, '')  + \"':'\" +\n elements[i].childNodes[3].childNodes[1].innerText.replace(/[^\\x20-\\x7E]+/g, '') + \"',\\n\";\n }\n return result;\n })();\n */\n\nexport const uids = {\n  '1.2.840.10008.1.1':'Verification SOP Class',\n  '1.2.840.10008.1.2':'Implicit VR Little Endian: Default Transfer Syntax for DICOM',\n  '1.2.840.10008.1.2.1':'Explicit VR Little Endian',\n  '1.2.840.10008.1.2.1.99':'Deflated Explicit VR Little Endian',\n  '1.2.840.10008.1.2.2':'Explicit VR Big Endian (Retired)',\n  '1.2.840.10008.1.2.4.50':'JPEG Baseline (Process 1): Default Transfer Syntax for Lossy JPEG 8 Bit Image Compression',\n  '1.2.840.10008.1.2.4.51':'JPEG Extended (Process 2 & 4): Default Transfer Syntax for Lossy JPEG 12 Bit Image Compression (Process 4 only)',\n  '1.2.840.10008.1.2.4.52':'JPEG Extended (Process 3 & 5) (Retired)',\n  '1.2.840.10008.1.2.4.53':'JPEG Spectral Selection, Non-Hierarchical (Process 6 & 8) (Retired)',\n  '1.2.840.10008.1.2.4.54':'JPEG Spectral Selection, Non-Hierarchical (Process 7 & 9) (Retired)',\n  '1.2.840.10008.1.2.4.55':'JPEG Full Progression, Non-Hierarchical (Process 10 & 12) (Retired)',\n  '1.2.840.10008.1.2.4.56':'JPEG Full Progression, Non-Hierarchical (Process 11 & 13) (Retired)',\n  '1.2.840.10008.1.2.4.57':'JPEG Lossless, Non-Hierarchical (Process 14)',\n  '1.2.840.10008.1.2.4.58':'JPEG Lossless, Non-Hierarchical (Process 15) (Retired)',\n  '1.2.840.10008.1.2.4.59':'JPEG Extended, Hierarchical (Process 16 & 18) (Retired)',\n  '1.2.840.10008.1.2.4.60':'JPEG Extended, Hierarchical (Process 17 & 19) (Retired)',\n  '1.2.840.10008.1.2.4.61':'JPEG Spectral Selection, Hierarchical (Process 20 & 22) (Retired)',\n  '1.2.840.10008.1.2.4.62':'JPEG Spectral Selection, Hierarchical (Process 21 & 23) (Retired)',\n  '1.2.840.10008.1.2.4.63':'JPEG Full Progression, Hierarchical (Process 24 & 26) (Retired)',\n  '1.2.840.10008.1.2.4.64':'JPEG Full Progression, Hierarchical (Process 25 & 27) (Retired)',\n  '1.2.840.10008.1.2.4.65':'JPEG Lossless, Hierarchical (Process 28) (Retired)',\n  '1.2.840.10008.1.2.4.66':'JPEG Lossless, Hierarchical (Process 29) (Retired)',\n  '1.2.840.10008.1.2.4.70':'JPEG Lossless, Non-Hierarchical, First-Order Prediction (Process 14 [Selection Value 1]): Default Transfer Syntax for Lossless JPEG Image Compression',\n  '1.2.840.10008.1.2.4.80':'JPEG-LS Lossless Image Compression',\n  '1.2.840.10008.1.2.4.81':'JPEG-LS Lossy (Near-Lossless) Image Compression',\n  '1.2.840.10008.1.2.4.90':'JPEG 2000 Image Compression (Lossless Only)',\n  '1.2.840.10008.1.2.4.91':'JPEG 2000 Image Compression',\n  '1.2.840.10008.1.2.4.92':'JPEG 2000 Part 2 Multi-component Image Compression (Lossless Only)',\n  '1.2.840.10008.1.2.4.93':'JPEG 2000 Part 2 Multi-component Image Compression',\n  '1.2.840.10008.1.2.4.94':'JPIP Referenced',\n  '1.2.840.10008.1.2.4.95':'JPIP Referenced Deflate',\n  '1.2.840.10008.1.2.4.100':'MPEG2 Main Profile @ Main Level',\n  '1.2.840.10008.1.2.4.101':'MPEG2 Main Profile @ High Level',\n  '1.2.840.10008.1.2.4.102':'MPEG-4 AVC/H.264 High Profile / Level 4.1',\n  '1.2.840.10008.1.2.4.103':'MPEG-4 AVC/H.264 BD-compatible High Profile / Level 4.1',\n  '1.2.840.10008.1.2.4.104':'MPEG-4 AVC/H.264 High Profile / Level 4.2 For 2D Video',\n  '1.2.840.10008.1.2.4.105':'MPEG-4 AVC/H.264 High Profile / Level 4.2 For 3D Video',\n  '1.2.840.10008.1.2.4.106':'MPEG-4 AVC/H.264 Stereo High Profile / Level 4.2',\n  '1.2.840.10008.1.2.5':'RLE Lossless',\n  '1.2.840.10008.1.2.6.1':'RFC 2557 MIME encapsulation',\n  '1.2.840.10008.1.2.6.2':'XML Encoding',\n  '1.2.840.10008.1.3.10':'Media Storage Directory Storage',\n  '1.2.840.10008.1.4.1.1':'Talairach Brain Atlas Frame of Reference',\n  '1.2.840.10008.1.4.1.2':'SPM2 T1 Frame of Reference',\n  '1.2.840.10008.1.4.1.3':'SPM2 T2 Frame of Reference',\n  '1.2.840.10008.1.4.1.4':'SPM2 PD Frame of Reference',\n  '1.2.840.10008.1.4.1.5':'SPM2 EPI Frame of Reference',\n  '1.2.840.10008.1.4.1.6':'SPM2 FIL T1 Frame of Reference',\n  '1.2.840.10008.1.4.1.7':'SPM2 PET Frame of Reference',\n  '1.2.840.10008.1.4.1.8':'SPM2 TRANSM Frame of Reference',\n  '1.2.840.10008.1.4.1.9':'SPM2 SPECT Frame of Reference',\n  '1.2.840.10008.1.4.1.10':'SPM2 GRAY Frame of Reference',\n  '1.2.840.10008.1.4.1.11':'SPM2 WHITE Frame of Reference',\n  '1.2.840.10008.1.4.1.12':'SPM2 CSF Frame of Reference',\n  '1.2.840.10008.1.4.1.13':'SPM2 BRAINMASK Frame of Reference',\n  '1.2.840.10008.1.4.1.14':'SPM2 AVG305T1 Frame of Reference',\n  '1.2.840.10008.1.4.1.15':'SPM2 AVG152T1 Frame of Reference',\n  '1.2.840.10008.1.4.1.16':'SPM2 AVG152T2 Frame of Reference',\n  '1.2.840.10008.1.4.1.17':'SPM2 AVG152PD Frame of Reference',\n  '1.2.840.10008.1.4.1.18':'SPM2 SINGLESUBJT1 Frame of Reference',\n  '1.2.840.10008.1.4.2.1':'ICBM 452 T1 Frame of Reference',\n  '1.2.840.10008.1.4.2.2':'ICBM Single Subject MRI Frame of Reference',\n  '1.2.840.10008.1.5.1':'Hot Iron Color Palette SOP Instance',\n  '1.2.840.10008.1.5.2':'PET Color Palette SOP Instance',\n  '1.2.840.10008.1.5.3':'Hot Metal Blue Color Palette SOP Instance',\n  '1.2.840.10008.1.5.4':'PET 20 Step Color Palette SOP Instance',\n  '1.2.840.10008.1.9':'Basic Study Content Notification SOP Class (Retired)',\n  '1.2.840.10008.1.20.1':'Storage Commitment Push Model SOP Class',\n  '1.2.840.10008.1.20.1.1':'Storage Commitment Push Model SOP Instance',\n  '1.2.840.10008.1.20.2':'Storage Commitment Pull Model SOP Class (Retired)',\n  '1.2.840.10008.1.20.2.1':'Storage Commitment Pull Model SOP Instance (Retired)',\n  '1.2.840.10008.1.40':'Procedural Event Logging SOP Class',\n  '1.2.840.10008.1.40.1':'Procedural Event Logging SOP Instance',\n  '1.2.840.10008.1.42':'Substance Administration Logging SOP Class',\n  '1.2.840.10008.1.42.1':'Substance Administration Logging SOP Instance',\n  '1.2.840.10008.2.6.1':'DICOM UID Registry',\n  '1.2.840.10008.2.16.4':'DICOM Controlled Terminology',\n  '1.2.840.10008.3.1.1.1':'DICOM Application Context Name',\n  '1.2.840.10008.3.1.2.1.1':'Detached Patient Management SOP Class (Retired)',\n  '1.2.840.10008.3.1.2.1.4':'Detached Patient Management Meta SOP Class (Retired)',\n  '1.2.840.10008.3.1.2.2.1':'Detached Visit Management SOP Class (Retired)',\n  '1.2.840.10008.3.1.2.3.1':'Detached Study Management SOP Class (Retired)',\n  '1.2.840.10008.3.1.2.3.2':'Study Component Management SOP Class (Retired)',\n  '1.2.840.10008.3.1.2.3.3':'Modality Performed Procedure Step SOP Class',\n  '1.2.840.10008.3.1.2.3.4':'Modality Performed Procedure Step Retrieve SOP Class',\n  '1.2.840.10008.3.1.2.3.5':'Modality Performed Procedure Step Notification SOP Class',\n  '1.2.840.10008.3.1.2.5.1':'Detached Results Management SOP Class (Retired)',\n  '1.2.840.10008.3.1.2.5.4':'Detached Results Management Meta SOP Class (Retired)',\n  '1.2.840.10008.3.1.2.5.5':'Detached Study Management Meta SOP Class (Retired)',\n  '1.2.840.10008.3.1.2.6.1':'Detached Interpretation Management SOP Class (Retired)',\n  '1.2.840.10008.4.2':'Storage Service Class',\n  '1.2.840.10008.5.1.1.1':'Basic Film Session SOP Class',\n  '1.2.840.10008.5.1.1.2':'Basic Film Box SOP Class',\n  '1.2.840.10008.5.1.1.4':'Basic Grayscale Image Box SOP Class',\n  '1.2.840.10008.5.1.1.4.1':'Basic Color Image Box SOP Class',\n  '1.2.840.10008.5.1.1.4.2':'Referenced Image Box SOP Class (Retired)',\n  '1.2.840.10008.5.1.1.9':'Basic Grayscale Print Management Meta SOP Class',\n  '1.2.840.10008.5.1.1.9.1':'Referenced Grayscale Print Management Meta SOP Class (Retired)',\n  '1.2.840.10008.5.1.1.14':'Print Job SOP Class',\n  '1.2.840.10008.5.1.1.15':'Basic Annotation Box SOP Class',\n  '1.2.840.10008.5.1.1.16':'Printer SOP Class',\n  '1.2.840.10008.5.1.1.16.376':'Printer Configuration Retrieval SOP Class',\n  '1.2.840.10008.5.1.1.17':'Printer SOP Instance',\n  '1.2.840.10008.5.1.1.17.376':'Printer Configuration Retrieval SOP Instance',\n  '1.2.840.10008.5.1.1.18':'Basic Color Print Management Meta SOP Class',\n  '1.2.840.10008.5.1.1.18.1':'Referenced Color Print Management Meta SOP Class (Retired)',\n  '1.2.840.10008.5.1.1.22':'VOI LUT Box SOP Class',\n  '1.2.840.10008.5.1.1.23':'Presentation LUT SOP Class',\n  '1.2.840.10008.5.1.1.24':'Image Overlay Box SOP Class (Retired)',\n  '1.2.840.10008.5.1.1.24.1':'Basic Print Image Overlay Box SOP Class (Retired)',\n  '1.2.840.10008.5.1.1.25':'Print Queue SOP Instance (Retired)',\n  '1.2.840.10008.5.1.1.26':'Print Queue Management SOP Class (Retired)',\n  '1.2.840.10008.5.1.1.27':'Stored Print Storage SOP Class (Retired)',\n  '1.2.840.10008.5.1.1.29':'Hardcopy Grayscale Image Storage SOP Class (Retired)',\n  '1.2.840.10008.5.1.1.30':'Hardcopy Color Image Storage SOP Class (Retired)',\n  '1.2.840.10008.5.1.1.31':'Pull Print Request SOP Class (Retired)',\n  '1.2.840.10008.5.1.1.32':'Pull Stored Print Management Meta SOP Class (Retired)',\n  '1.2.840.10008.5.1.1.33':'Media Creation Management SOP Class UID',\n  '1.2.840.10008.5.1.1.40':'Display System SOP Class',\n  '1.2.840.10008.5.1.1.40.1':'Display System SOP Instance',\n  '1.2.840.10008.5.1.4.1.1.1':'Computed Radiography Image Storage',\n  '1.2.840.10008.5.1.4.1.1.1.1':'Digital X-Ray Image Storage - For Presentation',\n  '1.2.840.10008.5.1.4.1.1.1.1.1':'Digital X-Ray Image Storage - For Processing',\n  '1.2.840.10008.5.1.4.1.1.1.2':'Digital Mammography X-Ray Image Storage - For Presentation',\n  '1.2.840.10008.5.1.4.1.1.1.2.1':'Digital Mammography X-Ray Image Storage - For Processing',\n  '1.2.840.10008.5.1.4.1.1.1.3':'Digital Intra-Oral X-Ray Image Storage - For Presentation',\n  '1.2.840.10008.5.1.4.1.1.1.3.1':'Digital Intra-Oral X-Ray Image Storage - For Processing',\n  '1.2.840.10008.5.1.4.1.1.2':'CT Image Storage',\n  '1.2.840.10008.5.1.4.1.1.2.1':'Enhanced CT Image Storage',\n  '1.2.840.10008.5.1.4.1.1.2.2':'Legacy Converted Enhanced CT Image Storage',\n  '1.2.840.10008.5.1.4.1.1.3':'Ultrasound Multi-frame Image Storage (Retired)',\n  '1.2.840.10008.5.1.4.1.1.3.1':'Ultrasound Multi-frame Image Storage',\n  '1.2.840.10008.5.1.4.1.1.4':'MR Image Storage',\n  '1.2.840.10008.5.1.4.1.1.4.1':'Enhanced MR Image Storage',\n  '1.2.840.10008.5.1.4.1.1.4.2':'MR Spectroscopy Storage',\n  '1.2.840.10008.5.1.4.1.1.4.3':'Enhanced MR Color Image Storage',\n  '1.2.840.10008.5.1.4.1.1.4.4':'Legacy Converted Enhanced MR Image Storage',\n  '1.2.840.10008.5.1.4.1.1.5':'Nuclear Medicine Image Storage (Retired)',\n  '1.2.840.10008.5.1.4.1.1.6':'Ultrasound Image Storage (Retired)',\n  '1.2.840.10008.5.1.4.1.1.6.1':'Ultrasound Image Storage',\n  '1.2.840.10008.5.1.4.1.1.6.2':'Enhanced US Volume Storage',\n  '1.2.840.10008.5.1.4.1.1.7':'Secondary Capture Image Storage',\n  '1.2.840.10008.5.1.4.1.1.7.1':'Multi-frame Single Bit Secondary Capture Image Storage',\n  '1.2.840.10008.5.1.4.1.1.7.2':'Multi-frame Grayscale Byte Secondary Capture Image Storage',\n  '1.2.840.10008.5.1.4.1.1.7.3':'Multi-frame Grayscale Word Secondary Capture Image Storage',\n  '1.2.840.10008.5.1.4.1.1.7.4':'Multi-frame True Color Secondary Capture Image Storage',\n  '1.2.840.10008.5.1.4.1.1.8':'Standalone Overlay Storage (Retired)',\n  '1.2.840.10008.5.1.4.1.1.9':'Standalone Curve Storage (Retired)',\n  '1.2.840.10008.5.1.4.1.1.9.1':'Waveform Storage - Trial (Retired)',\n  '1.2.840.10008.5.1.4.1.1.9.1.1':'12-lead ECG Waveform Storage',\n  '1.2.840.10008.5.1.4.1.1.9.1.2':'General ECG Waveform Storage',\n  '1.2.840.10008.5.1.4.1.1.9.1.3':'Ambulatory ECG Waveform Storage',\n  '1.2.840.10008.5.1.4.1.1.9.2.1':'Hemodynamic Waveform Storage',\n  '1.2.840.10008.5.1.4.1.1.9.3.1':'Cardiac Electrophysiology Waveform Storage',\n  '1.2.840.10008.5.1.4.1.1.9.4.1':'Basic Voice Audio Waveform Storage',\n  '1.2.840.10008.5.1.4.1.1.9.4.2':'General Audio Waveform Storage',\n  '1.2.840.10008.5.1.4.1.1.9.5.1':'Arterial Pulse Waveform Storage',\n  '1.2.840.10008.5.1.4.1.1.9.6.1':'Respiratory Waveform Storage',\n  '1.2.840.10008.5.1.4.1.1.10':'Standalone Modality LUT Storage (Retired)',\n  '1.2.840.10008.5.1.4.1.1.11':'Standalone VOI LUT Storage (Retired)',\n  '1.2.840.10008.5.1.4.1.1.11.1':'Grayscale Softcopy Presentation State Storage SOP Class',\n  '1.2.840.10008.5.1.4.1.1.11.2':'Color Softcopy Presentation State Storage SOP Class',\n  '1.2.840.10008.5.1.4.1.1.11.3':'Pseudo-Color Softcopy Presentation State Storage SOP Class',\n  '1.2.840.10008.5.1.4.1.1.11.4':'Blending Softcopy Presentation State Storage SOP Class',\n  '1.2.840.10008.5.1.4.1.1.11.5':'XA/XRF Grayscale Softcopy Presentation State Storage',\n  '1.2.840.10008.5.1.4.1.1.12.1':'X-Ray Angiographic Image Storage',\n  '1.2.840.10008.5.1.4.1.1.12.1.1':'Enhanced XA Image Storage',\n  '1.2.840.10008.5.1.4.1.1.12.2':'X-Ray Radiofluoroscopic Image Storage',\n  '1.2.840.10008.5.1.4.1.1.12.2.1':'Enhanced XRF Image Storage',\n  '1.2.840.10008.5.1.4.1.1.12.3':'X-Ray Angiographic Bi-Plane Image Storage (Retired)',\n  '1.2.840.10008.5.1.4.1.1.13.1.1':'X-Ray 3D Angiographic Image Storage',\n  '1.2.840.10008.5.1.4.1.1.13.1.2':'X-Ray 3D Craniofacial Image Storage',\n  '1.2.840.10008.5.1.4.1.1.13.1.3':'Breast Tomosynthesis Image Storage',\n  '1.2.840.10008.5.1.4.1.1.13.1.4':'Breast Projection X-Ray Image Storage - For Presentation',\n  '1.2.840.10008.5.1.4.1.1.13.1.5':'Breast Projection X-Ray Image Storage - For Processing',\n  '1.2.840.10008.5.1.4.1.1.14.1':'Intravascular Optical Coherence Tomography Image Storage - For Presentation',\n  '1.2.840.10008.5.1.4.1.1.14.2':'Intravascular Optical Coherence Tomography Image Storage - For Processing',\n  '1.2.840.10008.5.1.4.1.1.20':'Nuclear Medicine Image Storage',\n  '1.2.840.10008.5.1.4.1.1.30':'Parametric Map Storage',\n  '1.2.840.10008.5.1.4.1.1.66':'Raw Data Storage',\n  '1.2.840.10008.5.1.4.1.1.66.1':'Spatial Registration Storage',\n  '1.2.840.10008.5.1.4.1.1.66.2':'Spatial Fiducials Storage',\n  '1.2.840.10008.5.1.4.1.1.66.3':'Deformable Spatial Registration Storage',\n  '1.2.840.10008.5.1.4.1.1.66.4':'Segmentation Storage',\n  '1.2.840.10008.5.1.4.1.1.66.5':'Surface Segmentation Storage',\n  '1.2.840.10008.5.1.4.1.1.67':'Real World Value Mapping Storage',\n  '1.2.840.10008.5.1.4.1.1.68.1':'Surface Scan Mesh Storage',\n  '1.2.840.10008.5.1.4.1.1.68.2':'Surface Scan Point Cloud Storage',\n  '1.2.840.10008.5.1.4.1.1.77.1':'VL Image Storage - Trial (Retired)',\n  '1.2.840.10008.5.1.4.1.1.77.2':'VL Multi-frame Image Storage - Trial (Retired)',\n  '1.2.840.10008.5.1.4.1.1.77.1.1':'VL Endoscopic Image Storage',\n  '1.2.840.10008.5.1.4.1.1.77.1.1.1':'Video Endoscopic Image Storage',\n  '1.2.840.10008.5.1.4.1.1.77.1.2':'VL Microscopic Image Storage',\n  '1.2.840.10008.5.1.4.1.1.77.1.2.1':'Video Microscopic Image Storage',\n  '1.2.840.10008.5.1.4.1.1.77.1.3':'VL Slide-Coordinates Microscopic Image Storage',\n  '1.2.840.10008.5.1.4.1.1.77.1.4':'VL Photographic Image Storage',\n  '1.2.840.10008.5.1.4.1.1.77.1.4.1':'Video Photographic Image Storage',\n  '1.2.840.10008.5.1.4.1.1.77.1.5.1':'Ophthalmic Photography 8 Bit Image Storage',\n  '1.2.840.10008.5.1.4.1.1.77.1.5.2':'Ophthalmic Photography 16 Bit Image Storage',\n  '1.2.840.10008.5.1.4.1.1.77.1.5.3':'Stereometric Relationship Storage',\n  '1.2.840.10008.5.1.4.1.1.77.1.5.4':'Ophthalmic Tomography Image Storage',\n  '1.2.840.10008.5.1.4.1.1.77.1.5.5':'Wide Field Ophthalmic Photography Stereographic Projection Image Storage',\n  '1.2.840.10008.5.1.4.1.1.77.1.5.6':'Wide Field Ophthalmic Photography 3D Coordinates Image Storage',\n  '1.2.840.10008.5.1.4.1.1.77.1.6':'VL Whole Slide Microscopy Image Storage',\n  '1.2.840.10008.5.1.4.1.1.78.1':'Lensometry Measurements Storage',\n  '1.2.840.10008.5.1.4.1.1.78.2':'Autorefraction Measurements Storage',\n  '1.2.840.10008.5.1.4.1.1.78.3':'Keratometry Measurements Storage',\n  '1.2.840.10008.5.1.4.1.1.78.4':'Subjective Refraction Measurements Storage',\n  '1.2.840.10008.5.1.4.1.1.78.5':'Visual Acuity Measurements Storage',\n  '1.2.840.10008.5.1.4.1.1.78.6':'Spectacle Prescription Report Storage',\n  '1.2.840.10008.5.1.4.1.1.78.7':'Ophthalmic Axial Measurements Storage',\n  '1.2.840.10008.5.1.4.1.1.78.8':'Intraocular Lens Calculations Storage',\n  '1.2.840.10008.5.1.4.1.1.79.1':'Macular Grid Thickness and Volume Report Storage',\n  '1.2.840.10008.5.1.4.1.1.80.1':'Ophthalmic Visual Field Static Perimetry Measurements Storage',\n  '1.2.840.10008.5.1.4.1.1.81.1':'Ophthalmic Thickness Map Storage',\n  '1.2.840.10008.5.1.4.1.1.82.1':'Corneal Topography Map Storage',\n  '1.2.840.10008.5.1.4.1.1.88.1':'Text SR Storage - Trial (Retired)',\n  '1.2.840.10008.5.1.4.1.1.88.2':'Audio SR Storage - Trial (Retired)',\n  '1.2.840.10008.5.1.4.1.1.88.3':'Detail SR Storage - Trial (Retired)',\n  '1.2.840.10008.5.1.4.1.1.88.4':'Comprehensive SR Storage - Trial (Retired)',\n  '1.2.840.10008.5.1.4.1.1.88.11':'Basic Text SR Storage',\n  '1.2.840.10008.5.1.4.1.1.88.22':'Enhanced SR Storage',\n  '1.2.840.10008.5.1.4.1.1.88.33':'Comprehensive SR Storage',\n  '1.2.840.10008.5.1.4.1.1.88.34':'Comprehensive 3D SR Storage',\n  '1.2.840.10008.5.1.4.1.1.88.35':'Extensible SR Storage',\n  '1.2.840.10008.5.1.4.1.1.88.40':'Procedure Log Storage',\n  '1.2.840.10008.5.1.4.1.1.88.50':'Mammography CAD SR Storage',\n  '1.2.840.10008.5.1.4.1.1.88.59':'Key Object Selection Document Storage',\n  '1.2.840.10008.5.1.4.1.1.88.65':'Chest CAD SR Storage',\n  '1.2.840.10008.5.1.4.1.1.88.67':'X-Ray Radiation Dose SR Storage',\n  '1.2.840.10008.5.1.4.1.1.88.68':'Radiopharmaceutical Radiation Dose SR Storage',\n  '1.2.840.10008.5.1.4.1.1.88.69':'Colon CAD SR Storage',\n  '1.2.840.10008.5.1.4.1.1.88.70':'Implantation Plan SR Storage',\n  '1.2.840.10008.5.1.4.1.1.104.1':'Encapsulated PDF Storage',\n  '1.2.840.10008.5.1.4.1.1.104.2':'Encapsulated CDA Storage',\n  '1.2.840.10008.5.1.4.1.1.128':'Positron Emission Tomography Image Storage',\n  '1.2.840.10008.5.1.4.1.1.128.1':'Legacy Converted Enhanced PET Image Storage',\n  '1.2.840.10008.5.1.4.1.1.129':'Standalone PET Curve Storage (Retired)',\n  '1.2.840.10008.5.1.4.1.1.130':'Enhanced PET Image Storage',\n  '1.2.840.10008.5.1.4.1.1.131':'Basic Structured Display Storage',\n  '1.2.840.10008.5.1.4.1.1.481.1':'RT Image Storage',\n  '1.2.840.10008.5.1.4.1.1.481.2':'RT Dose Storage',\n  '1.2.840.10008.5.1.4.1.1.481.3':'RT Structure Set Storage',\n  '1.2.840.10008.5.1.4.1.1.481.4':'RT Beams Treatment Record Storage',\n  '1.2.840.10008.5.1.4.1.1.481.5':'RT Plan Storage',\n  '1.2.840.10008.5.1.4.1.1.481.6':'RT Brachy Treatment Record Storage',\n  '1.2.840.10008.5.1.4.1.1.481.7':'RT Treatment Summary Record Storage',\n  '1.2.840.10008.5.1.4.1.1.481.8':'RT Ion Plan Storage',\n  '1.2.840.10008.5.1.4.1.1.481.9':'RT Ion Beams Treatment Record Storage',\n  '1.2.840.10008.5.1.4.1.1.501.1':'DICOS CT Image Storage',\n  '1.2.840.10008.5.1.4.1.1.501.2.1':'DICOS Digital X-Ray Image Storage - For Presentation',\n  '1.2.840.10008.5.1.4.1.1.501.2.2':'DICOS Digital X-Ray Image Storage - For Processing',\n  '1.2.840.10008.5.1.4.1.1.501.3':'DICOS Threat Detection Report Storage',\n  '1.2.840.10008.5.1.4.1.1.501.4':'DICOS 2D AIT Storage',\n  '1.2.840.10008.5.1.4.1.1.501.5':'DICOS 3D AIT Storage',\n  '1.2.840.10008.5.1.4.1.1.501.6':'DICOS Quadrupole Resonance (QR) Storage',\n  '1.2.840.10008.5.1.4.1.1.601.1':'Eddy Current Image Storage',\n  '1.2.840.10008.5.1.4.1.1.601.2':'Eddy Current Multi-frame Image Storage',\n  '1.2.840.10008.5.1.4.1.2.1.1':'Patient Root Query/Retrieve Information Model - FIND',\n  '1.2.840.10008.5.1.4.1.2.1.2':'Patient Root Query/Retrieve Information Model - MOVE',\n  '1.2.840.10008.5.1.4.1.2.1.3':'Patient Root Query/Retrieve Information Model - GET',\n  '1.2.840.10008.5.1.4.1.2.2.1':'Study Root Query/Retrieve Information Model - FIND',\n  '1.2.840.10008.5.1.4.1.2.2.2':'Study Root Query/Retrieve Information Model - MOVE',\n  '1.2.840.10008.5.1.4.1.2.2.3':'Study Root Query/Retrieve Information Model - GET',\n  '1.2.840.10008.5.1.4.1.2.3.1':'Patient/Study Only Query/Retrieve Information Model - FIND (Retired)',\n  '1.2.840.10008.5.1.4.1.2.3.2':'Patient/Study Only Query/Retrieve Information Model - MOVE (Retired)',\n  '1.2.840.10008.5.1.4.1.2.3.3':'Patient/Study Only Query/Retrieve Information Model - GET (Retired)',\n  '1.2.840.10008.5.1.4.1.2.4.2':'Composite Instance Root Retrieve - MOVE',\n  '1.2.840.10008.5.1.4.1.2.4.3':'Composite Instance Root Retrieve - GET',\n  '1.2.840.10008.5.1.4.1.2.5.3':'Composite Instance Retrieve Without Bulk Data - GET',\n  '1.2.840.10008.5.1.4.31':'Modality Worklist Information Model - FIND',\n  '1.2.840.10008.5.1.4.32':'General Purpose Worklist Management Meta SOP Class (Retired)',\n  '1.2.840.10008.5.1.4.32.1':'General Purpose Worklist Information Model - FIND (Retired)',\n  '1.2.840.10008.5.1.4.32.2':'General Purpose Scheduled Procedure Step SOP Class (Retired)',\n  '1.2.840.10008.5.1.4.32.3':'General Purpose Performed Procedure Step SOP Class (Retired)',\n  '1.2.840.10008.5.1.4.33':'Instance Availability Notification SOP Class',\n  '1.2.840.10008.5.1.4.34.1':'RT Beams Delivery Instruction Storage - Trial (Retired)',\n  '1.2.840.10008.5.1.4.34.2':'RT Conventional Machine Verification - Trial (Retired)',\n  '1.2.840.10008.5.1.4.34.3':'RT Ion Machine Verification - Trial (Retired)',\n  '1.2.840.10008.5.1.4.34.4':'Unified Worklist and Procedure Step Service Class - Trial (Retired)',\n  '1.2.840.10008.5.1.4.34.4.1':'Unified Procedure Step - Push SOP Class - Trial (Retired)',\n  '1.2.840.10008.5.1.4.34.4.2':'Unified Procedure Step - Watch SOP Class - Trial (Retired)',\n  '1.2.840.10008.5.1.4.34.4.3':'Unified Procedure Step - Pull SOP Class - Trial (Retired)',\n  '1.2.840.10008.5.1.4.34.4.4':'Unified Procedure Step - Event SOP Class - Trial (Retired)',\n  '1.2.840.10008.5.1.4.34.5':'UPS Global Subscription SOP Instance',\n  '1.2.840.10008.5.1.4.34.5.1':'UPS Filtered Global Subscription SOP Instance',\n  '1.2.840.10008.5.1.4.34.6':'Unified Worklist and Procedure Step Service Class',\n  '1.2.840.10008.5.1.4.34.6.1':'Unified Procedure Step - Push SOP Class',\n  '1.2.840.10008.5.1.4.34.6.2':'Unified Procedure Step - Watch SOP Class',\n  '1.2.840.10008.5.1.4.34.6.3':'Unified Procedure Step - Pull SOP Class',\n  '1.2.840.10008.5.1.4.34.6.4':'Unified Procedure Step - Event SOP Class',\n  '1.2.840.10008.5.1.4.34.7':'RT Beams Delivery Instruction Storage',\n  '1.2.840.10008.5.1.4.34.8':'RT Conventional Machine Verification',\n  '1.2.840.10008.5.1.4.34.9':'RT Ion Machine Verification',\n  '1.2.840.10008.5.1.4.37.1':'General Relevant Patient Information Query',\n  '1.2.840.10008.5.1.4.37.2':'Breast Imaging Relevant Patient Information Query',\n  '1.2.840.10008.5.1.4.37.3':'Cardiac Relevant Patient Information Query',\n  '1.2.840.10008.5.1.4.38.1':'Hanging Protocol Storage',\n  '1.2.840.10008.5.1.4.38.2':'Hanging Protocol Information Model - FIND',\n  '1.2.840.10008.5.1.4.38.3':'Hanging Protocol Information Model - MOVE',\n  '1.2.840.10008.5.1.4.38.4':'Hanging Protocol Information Model - GET',\n  '1.2.840.10008.5.1.4.39.1':'Color Palette Storage',\n  '1.2.840.10008.5.1.4.39.2':'Color Palette Information Model - FIND',\n  '1.2.840.10008.5.1.4.39.3':'Color Palette Information Model - MOVE',\n  '1.2.840.10008.5.1.4.39.4':'Color Palette Information Model - GET',\n  '1.2.840.10008.5.1.4.41':'Product Characteristics Query SOP Class',\n  '1.2.840.10008.5.1.4.42':'Substance Approval Query SOP Class',\n  '1.2.840.10008.5.1.4.43.1':'Generic Implant Template Storage',\n  '1.2.840.10008.5.1.4.43.2':'Generic Implant Template Information Model - FIND',\n  '1.2.840.10008.5.1.4.43.3':'Generic Implant Template Information Model - MOVE',\n  '1.2.840.10008.5.1.4.43.4':'Generic Implant Template Information Model - GET',\n  '1.2.840.10008.5.1.4.44.1':'Implant Assembly Template Storage',\n  '1.2.840.10008.5.1.4.44.2':'Implant Assembly Template Information Model - FIND',\n  '1.2.840.10008.5.1.4.44.3':'Implant Assembly Template Information Model - MOVE',\n  '1.2.840.10008.5.1.4.44.4':'Implant Assembly Template Information Model - GET',\n  '1.2.840.10008.5.1.4.45.1':'Implant Template Group Storage',\n  '1.2.840.10008.5.1.4.45.2':'Implant Template Group Information Model - FIND',\n  '1.2.840.10008.5.1.4.45.3':'Implant Template Group Information Model - MOVE',\n  '1.2.840.10008.5.1.4.45.4':'Implant Template Group Information Model - GET',\n  '1.2.840.10008.7.1.1':'Native DICOM Model',\n  '1.2.840.10008.7.1.2':'Abstract Multi-Dimensional Image Model',\n  '1.2.840.10008.8.1.1':'DICOM Content Mapping Resource',\n  '1.2.840.10008.15.0.3.1':'dicomDeviceName',\n  '1.2.840.10008.15.0.3.2':'dicomDescription',\n  '1.2.840.10008.15.0.3.3':'dicomManufacturer',\n  '1.2.840.10008.15.0.3.4':'dicomManufacturerModelName',\n  '1.2.840.10008.15.0.3.5':'dicomSoftwareVersion',\n  '1.2.840.10008.15.0.3.6':'dicomVendorData',\n  '1.2.840.10008.15.0.3.7':'dicomAETitle',\n  '1.2.840.10008.15.0.3.8':'dicomNetworkConnectionReference',\n  '1.2.840.10008.15.0.3.9':'dicomApplicationCluster',\n  '1.2.840.10008.15.0.3.10':'dicomAssociationInitiator',\n  '1.2.840.10008.15.0.3.11':'dicomAssociationAcceptor',\n  '1.2.840.10008.15.0.3.12':'dicomHostname',\n  '1.2.840.10008.15.0.3.13':'dicomPort',\n  '1.2.840.10008.15.0.3.14':'dicomSOPClass',\n  '1.2.840.10008.15.0.3.15':'dicomTransferRole',\n  '1.2.840.10008.15.0.3.16':'dicomTransferSyntax',\n  '1.2.840.10008.15.0.3.17':'dicomPrimaryDeviceType',\n  '1.2.840.10008.15.0.3.18':'dicomRelatedDeviceReference',\n  '1.2.840.10008.15.0.3.19':'dicomPreferredCalledAETitle',\n  '1.2.840.10008.15.0.3.20':'dicomTLSCyphersuite',\n  '1.2.840.10008.15.0.3.21':'dicomAuthorizedNodeCertificateReference',\n  '1.2.840.10008.15.0.3.22':'dicomThisNodeCertificateReference',\n  '1.2.840.10008.15.0.3.23':'dicomInstalled',\n  '1.2.840.10008.15.0.3.24':'dicomStationName',\n  '1.2.840.10008.15.0.3.25':'dicomDeviceSerialNumber',\n  '1.2.840.10008.15.0.3.26':'dicomInstitutionName',\n  '1.2.840.10008.15.0.3.27':'dicomInstitutionAddress',\n  '1.2.840.10008.15.0.3.28':'dicomInstitutionDepartmentName',\n  '1.2.840.10008.15.0.3.29':'dicomIssuerOfPatientID',\n  '1.2.840.10008.15.0.3.30':'dicomPreferredCallingAETitle',\n  '1.2.840.10008.15.0.3.31':'dicomSupportedCharacterSet',\n  '1.2.840.10008.15.0.4.1':'dicomConfigurationRoot',\n  '1.2.840.10008.15.0.4.2':'dicomDevicesRoot',\n  '1.2.840.10008.15.0.4.3':'dicomUniqueAETitlesRegistryRoot',\n  '1.2.840.10008.15.0.4.4':'dicomDevice',\n  '1.2.840.10008.15.0.4.5':'dicomNetworkAE',\n  '1.2.840.10008.15.0.4.6':'dicomNetworkConnection',\n  '1.2.840.10008.15.0.4.7':'dicomUniqueAETitle',\n  '1.2.840.10008.15.0.4.8':'dicomTransferCapability',\n  '1.2.840.10008.15.1.1':'Universal Coordinated Time',\n};\n","\r\nexport const SETTINGS_SAVEAS = 'saveAs'\r\nexport const SETTINGS_DCMHEADER = 'json'\r\nexport const SETTINGS_OVERLAY = 'overlay'\r\nexport const SETTINGS_MEASUREMENT = 'measurement'","import React, { PureComponent } from 'react'\r\nimport { Button, DialogContainer, LinearProgress } from 'react-md'\r\n\r\nclass OpenUrlDlg extends PureComponent {\r\n\r\n  hide = () => {\r\n    this.props.onClose()\r\n  }\r\n\r\n  cancel = () => {\r\n    window.stop()\r\n    this.hide()\r\n  }\r\n\r\n  render() {\r\n    const actions = [];\r\n    actions.push(<Button flat onClick={this.cancel}>Cancel</Button>)\r\n    //actions.push(<Button flat onClick={this.hide}>Ok</Button>)\r\n\r\n    return (\r\n      <div>\r\n        <DialogContainer\r\n          modal={true}\r\n          id=\"simple-action-dialog\"\r\n          visible={true}\r\n          onHide={this.hide}\r\n          actions={actions}\r\n          title=\"Downloading file ...\"\r\n        >\r\n          <LinearProgress id=\"file-upload-progress\" value={this.props.progress} determinate />\r\n        </DialogContainer>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default OpenUrlDlg\r\n","import React, { PureComponent } from 'react'\r\nimport { Button } from 'react-md'\r\n\r\nclass CinePlayer extends PureComponent {\r\n    firstframe = () => {\r\n        this.props.runCinePlayer('firstframe') \r\n    }\r\n\r\n    previousframe = () => {\r\n        this.props.runCinePlayer('previousframe') \r\n    }\r\n\r\n    play = () => {\r\n        this.props.runCinePlayer('play') \r\n    }\r\n\r\n    pause = () => {\r\n        this.props.runCinePlayer('pause') \r\n    }\r\n\r\n    nextframe = () => {\r\n        this.props.runCinePlayer('nextframe') \r\n    }\r\n\r\n    lastframe = () => {\r\n        this.props.runCinePlayer('lastframe') \r\n    }\r\n\r\n    render() {\r\n        let play = null\r\n        if (!this.props.inPlay) {\r\n            play = <Button icon onClick={this.play} >play_arrow</Button>\r\n        } else {\r\n            play = <Button icon onClick={this.pause} >pause</Button>\r\n        }\r\n        return (\r\n            <div style={{ width:240, margin:'0 auto' }}>\r\n                <Button icon onClick={this.firstframe} >skip_previous</Button>\r\n                <Button icon onClick={this.previousframe} >fast_rewind</Button>\r\n                {play}\r\n                <Button icon onClick={this.nextframe} >fast_forward</Button>\r\n                <Button icon onClick={this.lastframe} >skip_next</Button>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default CinePlayer\r\n","import { SETTINGS_SAVEAS, SETTINGS_DCMHEADER, SETTINGS_OVERLAY, SETTINGS_MEASUREMENT } from './constants/settings'\r\n\r\n\r\nexport function getSettingsSaveAs() {\r\n    let saveAs = localStorage.getItem(SETTINGS_SAVEAS)\r\n    if (saveAs === null) {\r\n      saveAs = \"png\"\r\n      localStorage.setItem(SETTINGS_SAVEAS, saveAs)\r\n    }\r\n}\r\n\r\nexport function setSettingsSaveAs(value) {\r\n    localStorage.setItem(SETTINGS_SAVEAS, value)  \r\n}\r\n\r\nexport function getSettingsDcmHeader() {\r\n    let exportAs = localStorage.getItem(SETTINGS_DCMHEADER)\r\n    if (exportAs === null) {\r\n      exportAs = \"json\"\r\n      localStorage.setItem(SETTINGS_DCMHEADER, exportAs)\r\n    }  \r\n}\r\n\r\nexport function setSettingsDcmHeader(value) {\r\n    localStorage.setItem(SETTINGS_DCMHEADER, value)  \r\n}\r\n\r\nexport function getSettingsOverlay() {\r\n    let overlay = localStorage.getItem(SETTINGS_OVERLAY)\r\n    if (overlay === null) {\r\n      overlay = \"1\"\r\n      localStorage.setItem(SETTINGS_OVERLAY, overlay)\r\n    }\r\n    return overlay\r\n}\r\n\r\nexport function setSettingsOverlay(value) {\r\n    localStorage.setItem(SETTINGS_OVERLAY, value)  \r\n}\r\n\r\nexport function getSettingsMeasurement() {\r\n    let measurement = localStorage.getItem(SETTINGS_MEASUREMENT)\r\n    if (measurement === null) {\r\n        measurement = \"1\"\r\n      localStorage.setItem(SETTINGS_MEASUREMENT, measurement)\r\n    }\r\n    return measurement\r\n}\r\n\r\nexport function setSettingsMeasurement(value) {\r\n    localStorage.setItem(SETTINGS_MEASUREMENT, value)  \r\n}\r\n\r\n\r\n/**\r\n * Converts a value to a string appropriate for entry into a CSV table.  E.g., a string value will be surrounded by quotes.\r\n * @param {string|number|object} theValue\r\n */\r\nfunction toCsvValue(theValue) {\r\n    let t = typeof theValue,\r\n        output\r\n\r\n    let sDelimiter = '\"'\r\n\r\n    if (t === 'undefined' || t === null) {\r\n        output = ''\r\n    } else if (t === 'string') {\r\n        output = sDelimiter + theValue.replace(/\"/g, '\"\"') + sDelimiter\r\n    } else {\r\n        output = sDelimiter + String(theValue).replace(/\"/g, '\"\"') + sDelimiter\r\n    }\r\n\r\n    return output\r\n}\r\n\r\n/**\r\n * Converts an array of objects (with identical schemas) into a CSV table.\r\n * @param {Array} objArray An array of objects.  Each object in the array must have the same property list.\r\n * @param {string} cDelimiter The column delimiter.  Defaults to a comma (,) if omitted.\r\n * @return {string} The CSV equivalent of objArray.\r\n */\r\nexport function toCsv(objArray, cDelimiter) {\r\n    var i,\r\n        l,\r\n        names = [],\r\n        name,\r\n        value,\r\n        obj,\r\n        row,\r\n        output = '',\r\n        n,\r\n        nl\r\n\r\n    // Initialize default parameters.\r\n\r\n    let sDelimiter = '\"'\r\n    if (typeof cDelimiter === 'undefined' || cDelimiter === null) {\r\n        cDelimiter = ','\r\n    }\r\n\r\n    for (i = 0, l = objArray.length; i < l; i += 1) {\r\n        // Get the names of the properties.\r\n        obj = objArray[i]\r\n        row = ''\r\n        if (i === 0) {\r\n            // Loop through the names\r\n            for (name in obj) {\r\n                if (obj.hasOwnProperty(name)) {\r\n                    names.push(name)\r\n                    row += [\r\n                        sDelimiter,\r\n                        name.replace(/\"/g, '\"\"'),\r\n                        sDelimiter,\r\n                        cDelimiter,\r\n                    ].join('')\r\n                }\r\n            }\r\n            row = row.substring(0, row.length - 1)\r\n            output += row\r\n        }\r\n\r\n        output += '\\n'\r\n        row = ''\r\n        for (n = 0, nl = names.length; n < nl; n += 1) {\r\n            name = names[n]\r\n            value = obj[name]\r\n            if (n > 0) {\r\n                row += cDelimiter\r\n            }\r\n            row += toCsvValue(value)\r\n        }\r\n        output += row\r\n    }\r\n\r\n    return output\r\n}\r\n\r\n","import Dexie from 'dexie'\r\n\r\nconst db = new Dexie('udvDB')\r\n\r\ndb.version(1).stores({ \r\n    measurement: '++id, sopinstanceuid, tool' \r\n})\r\n\r\ndb.open()\r\n\r\nexport default db\r\n","import React from \"react\";\r\nimport Hammer from \"hammerjs\";\r\nimport * as cornerstone from \"cornerstone-core\";\r\nimport * as cornerstoneTools from \"cornerstone-tools\";\r\nimport * as cornerstoneMath from \"cornerstone-math\";\r\nimport * as cornerstoneWebImageLoader from \"cornerstone-web-image-loader\";\r\nimport * as cornerstoneWADOImageLoader from \"cornerstone-wado-image-loader\";\r\nimport * as dicomParser from 'dicom-parser'\r\nimport {connect} from 'react-redux'\r\nimport {loadLocalfile, loadUrl, dcmIsOpen, dcmNumberOfFrames, dcmTool, dcmDataStore, measureStore, measureRemove, measureClear} from '../actions'\r\n//import {black} from \"ansi-colors\";\r\nimport {uids} from '../constants/uids'\r\nimport { SETTINGS_SAVEAS } from '../constants/settings'\r\n//import {loadLocalfile} from '../actions'\r\n//import dicomLoader from \"./dicom-loader\";\r\n//import exampleImageIdLoader from \"./exampleImageIdLoader\";\r\nimport OpenUrlDlg from './OpenUrlDlg'\r\nimport CinePlayer from './CinePlayer'\r\n//import { SETTINGS_OVERLAY } from '../constants/settings'\r\nimport { getSettingsOverlay, getSettingsMeasurement } from '../functions'\r\nimport { isBrowser, isMobile } from 'react-device-detect'\r\nimport { import as csTools } from 'cornerstone-tools'\r\nimport db from '../db'\r\n\r\nconst scrollToIndex = csTools('util/scrollToIndex')\r\n\r\nconst heightToolbar = 0\r\n\r\nfunction getBlobUrl(url) {\r\n  const baseUrl = window.URL || window.webkitURL;\r\n  const blob = new Blob([`importScripts('${url}')`], {type: \"application/javascript\"});\r\n  return baseUrl.createObjectURL(blob);\r\n}\r\n\r\nlet webWorkerUrl = getBlobUrl(\r\n  \"https://unpkg.com/cornerstone-wado-image-loader@2.0.0/dist/cornerstoneWADOImageLoaderWebWorker.min.js\"\r\n);\r\nlet codecsUrl = getBlobUrl(\r\n  \"https://unpkg.com/cornerstone-wado-image-loader@2.0.0/dist/cornerstoneWADOImageLoaderCodecs.js\"\r\n  // \"https://unpkg.com/cornerstone-wado-image-loader/dist/cornerstoneWADOImageLoaderCodecs.js\"\r\n);\r\n\r\n// See componentDidMount line 110 for initialization, registration\r\nconst config = {\r\n  maxWebWorkers: 4, //\r\n  //startWebWorkersOnDemand: true, //\r\n  webWorkerPath: webWorkerUrl,\r\n  //webWorkerTaskPaths: [], //\r\n  taskConfiguration: {\r\n    decodeTask: {\r\n      //loadCodecsOnStartup: true, //\r\n      //initializeCodecsOnStartup: false, //\r\n      codecsPath: codecsUrl,\r\n      //usePDFJS: false, //\r\n      //strict: true //\r\n    }\r\n  }\r\n};\r\n\r\nconsole.log({ cornerstone });\r\nconsole.log({ cornerstoneWADOImageLoader });\r\nconsole.log({ dicomParser });\r\n\r\n\r\nclass DicomViewer extends React.Component {\r\n    constructor(props) {\r\n      super(props)\r\n      this.dicomImage = null\r\n      this.imageId = null\r\n      this.image = null\r\n      this.state.imageWidth = window.innerWidth\r\n      this.state.imageHeight = isBrowser ? window.innerHeight-82 : window.innerHeight-82\r\n      //console.log('this.state.imageWidth: ', this.state.imageWidth)\r\n      //console.log('this.state.imageHeight: ', this.state.imageHeight)\r\n    }\r\n\r\n    state = { \r\n      imageWidth: 0,\r\n      imageHeight: 0,\r\n      file: null,\r\n      visibleOpenUrlDlg: false,\r\n      progress: null,\r\n      visibleCinePlayer: true,\r\n      frame: 1,\r\n      inPlay: false,\r\n      viewport: null\r\n    }\r\n  \r\n    componentWillMount() {\r\n      cornerstoneTools.external.cornerstone = cornerstone;\r\n      cornerstoneTools.external.cornerstoneMath = cornerstoneMath;\r\n      cornerstoneWebImageLoader.external.cornerstone = cornerstone;\r\n      cornerstoneWADOImageLoader.external.cornerstone = cornerstone;\r\n      cornerstoneWADOImageLoader.webWorkerManager.initialize(config);\r\n      cornerstoneWADOImageLoader.external.dicomParser = dicomParser;\r\n      cornerstoneTools.external.Hammer = Hammer;\r\n    }\r\n  \r\n    componentDidMount() {\r\n      window.scrollTo(0, 1)\r\n      this.props.runTool(this)\r\n      this.props.changeTool(this)\r\n    }\r\n\r\n    componentWillUnmount() {\r\n      this.props.runTool(undefined)\r\n      this.props.changeTool(undefined)\r\n    }\r\n\r\n  \r\n    onOpenUrl = (e) => {\r\n      const eventData = e.detail\r\n      this.setState({ progress: eventData.percentComplete })\r\n    }\r\n\r\n    showOpenUrlDlg = (url) => {\r\n      this.setState({ visibleOpenUrlDlg: true }, () => {\r\n        cornerstone.events.addEventListener('cornerstoneimageloadprogress', this.onOpenUrl)\r\n        this.loadImage(undefined, url)\r\n      })\r\n    }\r\n  \r\n    hideOpenUrlDlg = () => {\r\n      this.setState({ visibleOpenUrlDlg: false, progress: null })\r\n    }\r\n\r\n\r\n    getTransferSyntax = (image) => {\r\n      const value = image.data.string('x00020010')\r\n      return value + ' [' + uids[value] + ']'\r\n    }\r\n\r\n    getSopClass = (image) => {\r\n      const value = image.data.string('x00080016')\r\n      return value + ' [' + uids[value] + ']'\r\n    }\r\n\r\n    getSopInstanceUID = (image) => {\r\n      const value = image.data.string('x00080018')\r\n      return value\r\n    }\r\n\r\n    getPixelRepresentation = (image) => {\r\n      const value = image.data.uint16('x00280103')\r\n      if (value === undefined) return\r\n      return value + (value === 0 ? ' (unsigned)' : ' (signed)')\r\n    }\r\n\r\n    getPlanarConfiguration = (image) => {\r\n      const value = image.data.uint16('x00280006')\r\n      if (value === undefined) return \r\n      return value + (value === 0 ? ' (pixel)' : ' (plane)')\r\n    }\r\n    \r\n    // Listen for changes to the viewport so we can update the text overlays in the corner\r\n    onImageRendered = (e) => {\r\n      //console.log('cornerstoneimagerendered: ')\r\n\r\n      this.setState({\r\n        imageWidth: isBrowser ? window.innerWidth : window.innerWidth,\r\n        imageHeight: isBrowser ? window.innerHeight-82 : window.innerHeight-82\r\n      })\r\n\r\n      const viewport = cornerstone.getViewport(e.target)\r\n\r\n      //console.log('viewport: ', viewport)\r\n\r\n      document.getElementById(\r\n        \"mrtopleft\"\r\n      ).textContent = `${this.dataHeader.PatientsName}`\r\n\r\n      document.getElementById(\r\n        \"mrtopright\"\r\n      ).textContent = `${viewport.displayedArea.brhc.x}x${viewport.displayedArea.brhc.x}`\r\n\r\n      document.getElementById(\r\n        \"mrbottomleft\"\r\n      ).textContent = `WW/WC: ${Math.round(\r\n        viewport.voi.windowWidth\r\n      )}/${Math.round(viewport.voi.windowCenter)}`\r\n\r\n      document.getElementById(\r\n        \"mrbottomright\"\r\n      ).textContent = `Zoom: ${viewport.scale.toFixed(2)*100}%`\r\n\r\n      if (this.props.numberOfFrames > 1) {\r\n        document.getElementById(\r\n          \"frameLabel\"\r\n        ).textContent = `${this.state.frame} / ${this.props.numberOfFrames}`\r\n        if (this.state.inPlay) this.setState({frame: this.state.frame+1})\r\n      }\r\n\r\n      console.log('this.props.measure: ', this.props.measure)\r\n    }\r\n\r\n    onMeasurementAdded = (e) => {\r\n      console.log('cornerstonetoolsmeasurementadded: ', e.detail.measurementData)\r\n      /*\r\n      if (getSettingsMeasurement() === 1) {\r\n        try {\r\n          db.measurement.add({\r\n            sopinstanceuid: this.dataHeader.sopInstanceUid, \r\n            tool: this.props.tool,\r\n            data: e.detail.measurementData\r\n          })\r\n        } catch(error) {\r\n          console.error(error)\r\n        }\r\n      }\r\n      */\r\n    }\r\n\r\n    onMeasurementModified = (e) => {\r\n      //console.log('cornerstonetoolsmeasurementmodified: ', e.detail.measurementData)\r\n      \r\n    }\r\n\r\n    onMeasurementCompleted = (e) => {\r\n      console.log('cornerstonetoolsmeasurementcompleted: ', e.detail.measurementData)\r\n      \r\n      const measure = {\r\n        tool: this.props.tool,\r\n        note: '',\r\n        data: e.detail.measurementData\r\n      }\r\n      this.props.measurementStore(measure)\r\n    }\r\n    \r\n    loadImage = (localfile, url=undefined) => {\r\n      console.log('loadImage, localfile: ', localfile)\r\n\r\n      if (localfile === undefined && url === undefined) return\r\n      \r\n      if (localfile !== undefined) {\r\n        this.props.localfileStore(localfile)\r\n      } else {\r\n        this.props.urlStore(url)\r\n      }\r\n \r\n      const element = this.dicomImage\r\n\r\n      element.addEventListener(\"cornerstonenewimage\", this.onNewImage)\r\n      element.addEventListener(\"cornerstoneimagerendered\", this.onImageRendered)\r\n      element.addEventListener(\"cornerstonetoolsmeasurementadded\", this.onMeasurementAdded)\r\n      element.addEventListener(\"cornerstonetoolsmeasurementmodified\", this.onMeasurementModified)\r\n      element.addEventListener(\"cornerstonetoolsmeasurementcompleted\", this.onMeasurementCompleted)\r\n\r\n      cornerstoneTools.init(isMobile ? {touchEnabled: true} : {mouseEnabled: true})\r\n\r\n      let imageId = undefined\r\n\r\n      if (localfile !== undefined) {\r\n        imageId = cornerstoneWADOImageLoader.wadouri.fileManager.add(localfile)\r\n      } else {\r\n        //this.hideOpenUrlDlg()\r\n        imageId = \"wadouri:\"+url\r\n      }\r\n\r\n      console.log('loadImage, imageId: ', imageId)\r\n  \r\n      cornerstone.enable(element)\r\n\r\n      cornerstone.loadAndCacheImage(imageId).then(image => {\r\n        console.log('loadImage, image: ', image)\r\n\r\n        this.hideOpenUrlDlg()\r\n\r\n        this.image = image\r\n\r\n        this.props.isOpenStore(true)\r\n\r\n        //console.log('loadImage, image.data.elements: ', image.data.elements)\r\n        //console.log('loadImage, image.data.elements.x00280010: ', image.data.uint16('x00280010'))\r\n        //Object.keys(image.data.elements).forEach(e => console.log(`key=${e}  value=${image.data.elements[e]}`));\r\n\r\n        //console.log('loadImage, x00280010: ', image.width)\r\n        //console.log('loadImage, x00280011: ', image.height)\r\n        \r\n        this.props.dataStore(['Transfer Syntax', this.getTransferSyntax(image)])\r\n        this.props.dataStore(['SOP Class', this.getSopClass(image)])\r\n        this.props.dataStore(['SOP Instance UID', this.getSopInstanceUID(image)])\r\n        this.props.dataStore(['Frame Rate', image.data.string('x00082144')])\r\n        this.props.dataStore(['Samples per Pixel', image.data.uint16('x00280002')])\r\n        this.props.dataStore(['Photometric Interpretation', image.data.string('x00280004')])\r\n        this.props.dataStore(['Number of Frames', image.data.string('x00280008')])\r\n        this.props.dataStore(['Planar Configuration', this.getPlanarConfiguration(image)])\r\n        this.props.dataStore(['Rows', image.data.uint16('x00280010')])\r\n        this.props.dataStore(['Columns', image.data.uint16('x00280011')])\r\n        this.props.dataStore(['Pixel Spacing', image.data.string('x00280030')])\r\n        this.props.dataStore(['Bits Allocated', image.data.uint16('x00280100')])\r\n        this.props.dataStore(['Bits Stored', image.data.uint16('x00280101')])\r\n        this.props.dataStore(['High Bit', image.data.uint16('x00280102')])\r\n        this.props.dataStore(['Pixel Representation', this.getPixelRepresentation(image)])\r\n        this.props.dataStore(['Window Center', image.data.string('x00281050')])\r\n        this.props.dataStore(['Window Width', image.data.string('x00281051')])\r\n        this.props.dataStore(['Rescale Intercept', image.data.string('x00281052')])\r\n        this.props.dataStore(['Rescale Slope', image.data.string('x00281053')])\r\n        this.props.dataStore(['Min Stored Pixel Value', image.minPixelValue])\r\n        this.props.dataStore(['Max Stored Pixel Value', image.maxPixelValue])\r\n        \r\n        \r\n        this.dataHeader = {\r\n          transferSyntax: this.getTransferSyntax(image),\r\n          sopClass: this.getSopClass(image),\r\n          sopInstanceUid: this.getSopInstanceUID(image),\r\n          PatientsName: image.data.string('x00100010'),\r\n          samplesPerPixel: image.data.uint16('x00280002'), \r\n          photometricInterpretation: image.data.string('x00280004'),\r\n          numberOfFrames: image.data.string('x00280008'),\r\n          planarConfiguration: this.getPlanarConfiguration(image),\r\n          rows: image.data.uint16('x00280010'),\r\n          columns: image.data.uint16('x00280011'),\r\n          pixelSpacing: image.data.string('x00280030'),\r\n          bitsAllocated:  image.data.uint16('x00280100'),\r\n          bitsStored: image.data.uint16('x00280101'),\r\n          highBit: image.data.uint16('x00280102'),\r\n          pixelRepresentation: this.getPixelRepresentation(image),\r\n          windowCenter: image.data.string('x00281050'),\r\n          windowWidth: image.data.string('x00281051'),\r\n          rescaleIntercept: image.data.string('x00281052'),\r\n          rescaleSlope: image.data.string('x00281053'),\r\n          basicOffsetTable: image.data.elements.x7fe00010 && image.data.elements.x7fe00010.basicOffsetTable ? image.data.elements.x7fe00010.basicOffsetTable.length : '',\r\n          fragments: image.data.elements.x7fe00010 && image.data.elements.x7fe00010.fragments ? image.data.elements.x7fe00010.fragments.length : '',\r\n          minStoredPixelValue: image.minPixelValue,\r\n          maxStoredPixelValue: image.maxPixelValue,\r\n        }\r\n        console.log('this.dataHeader: ', this.dataHeader)\r\n\r\n        this.setState({\r\n          imageWidth: isBrowser ? window.innerWidth : window.innerWidth,\r\n          imageHeight: isBrowser ? window.innerHeight-82 : window.innerHeight-82\r\n        })\r\n\r\n        let stack = { currentImageIdIndex: 0, imageIds: \"\" }\r\n        let nFrames = image.data.intString('x00280008')\r\n        if (nFrames > 0) {\r\n          //console.log('nFrames: ', nFrames)\r\n          this.props.numberOfFramesStore(nFrames)\r\n          let imageIds = []\t\r\n          for(var i=1; i <=nFrames; ++i) {\r\n            imageIds.push(imageId + \"?frame=\"+i)\r\n          }\t\r\n          stack.imageIds = imageIds;\r\n          console.log(stack.imageIds)\r\n        }\r\n\r\n        console.log('displayImage: ')\r\n        cornerstone.displayImage(element, image)\r\n        //cornerstoneTools.mouseInput.enable(element);\r\n        //cornerstoneTools.mouseWheelInput.enable(element);\r\n\r\n        // Enable all tools we want to use with this element\r\n        const WwwcTool = cornerstoneTools.WwwcTool;\r\n        const LengthTool = cornerstoneTools['LengthTool']\r\n        const PanTool = cornerstoneTools.PanTool\r\n        const ZoomTouchPinchTool = cornerstoneTools.ZoomTouchPinchTool\r\n        const ZoomTool = cornerstoneTools.ZoomTool\r\n        const ProbeTool = cornerstoneTools.ProbeTool\r\n        const EllipticalRoiTool = cornerstoneTools.EllipticalRoiTool\r\n        const RectangleRoiTool = cornerstoneTools.RectangleRoiTool\r\n        //const FreehandRoiTool = cornerstoneTools.FreehandRoiTool\r\n        const AngleTool = cornerstoneTools.AngleTool\r\n        const MagnifyTool = cornerstoneTools.MagnifyTool\r\n        const StackScrollMouseWheelTool = cornerstoneTools.StackScrollMouseWheelTool\r\n\r\n        cornerstoneTools.addTool(MagnifyTool)\r\n        cornerstoneTools.addTool(AngleTool)    \r\n        cornerstoneTools.addTool(WwwcTool)\r\n        cornerstoneTools.addTool(LengthTool)\r\n        cornerstoneTools.addTool(PanTool)\r\n        cornerstoneTools.addTool(ZoomTouchPinchTool)\r\n        cornerstoneTools.addTool(ZoomTool)\r\n        cornerstoneTools.addTool(ProbeTool)\r\n        cornerstoneTools.addTool(EllipticalRoiTool)\r\n        cornerstoneTools.addTool(RectangleRoiTool)\r\n        //cornerstoneTools.addTool(FreehandRoiTool)\r\n        cornerstoneTools.addTool(StackScrollMouseWheelTool)\r\n\r\n        if (nFrames > 1) {\r\n          cornerstoneTools.addStackStateManager(element, ['stack', 'playClip']);    \r\n          cornerstoneTools.addToolState(element, 'stack', stack)\r\n          cornerstoneTools.setToolActive('StackScrollMouseWheel', { })\r\n        }\r\n \r\n        // Load the possible measurements from DB and save in the store \r\n        db.measurement.where('sopinstanceuid').equals(this.dataHeader.sopInstanceUid).each(measure => {\r\n          console.log('load measure from db: ', measure)\r\n          this.props.measurementStore(measure)\r\n          cornerstoneTools.addToolState(element, measure.tool, measure.data)\r\n          this.runTool(measure.tool)\r\n          cornerstone.updateImage(element)\r\n        })\r\n\r\n\r\n      })\r\n    }\r\n  \r\n    enableTool = (toolName, mouseButtonNumber) => {\r\n      this.disableAllTools()\r\n      //cornerstoneTools[toolName].activate(this.dicomImage, mouseButtonNumber);\r\n      //console.log('csTools.store: ', this.csTools.store)\r\n    };\r\n  \r\n    // helper function used by the tool button handlers to disable the active tool\r\n    // before making a new tool active\r\n    disableAllTools = () => {\r\n      cornerstoneTools.setToolDisabled('Length')\r\n      cornerstoneTools.setToolDisabled('Pan')\r\n      cornerstoneTools.setToolDisabled('Magnify')\r\n      cornerstoneTools.setToolDisabled('Angle')\r\n      cornerstoneTools.setToolDisabled('RectangleRoi')\r\n      cornerstoneTools.setToolDisabled('Wwwc')\r\n      cornerstoneTools.setToolDisabled('ZoomTouchPinch')\r\n      cornerstoneTools.setToolDisabled('Probe')\r\n      cornerstoneTools.setToolDisabled('EllipticalRoi')\r\n      cornerstoneTools.setToolDisabled('StackScrollMouseWheel')\r\n    }\r\n  \r\n    runTool = (toolName, opt) => {\r\n      console.log('run tool: ', toolName)\r\n      \r\n//      this.disableAllTools()\r\n      switch (toolName) {\r\n        case 'openfile': {\r\n          cornerstone.disable(this.dicomImage)\r\n          this.setState({ file: opt })\r\n          this.loadImage(opt)\r\n          break   \r\n        } \r\n        case 'openurl': {\r\n            this.showOpenUrlDlg(opt)\r\n            break                 \r\n        }\r\n        case 'clear': {\r\n          this.props.isOpenStore(false)\r\n          this.props.numberOfFramesStore(1)\r\n          cornerstone.disable(this.dicomImage)\r\n          break\r\n        }  \r\n        case 'notool': {\r\n          //const element = this.dicomImage\r\n\r\n          //cornerstoneTools.clearToolState(element, 'Length')\r\n          \r\n          //const toolStateManager = cornerstoneTools.getElementToolStateManager(element)\r\n          //console.log('toolStateManager.toolState: ', toolStateManager.toolState)\r\n          /*\r\n          const toolState = toolStateManager.toolState\r\n          // const allTools = Object.keys(toolState).map(key => toolState[key])\r\n          let key = Object.keys(toolState)[0]\r\n          let allTools = toolState[key]\r\n          //console.log('allTools: ', allTools)\r\n\r\n          for (let [tool, data] of Object.entries(allTools)) {\r\n            //console.log(`${tool}: `, data)\r\n            let key = Object.keys(data)[0]\r\n            let tools = data[key]\r\n            //console.log('tools: ', tools)\r\n            tools.forEach(item => {\r\n              //console.log('tool: ', tool)\r\n              //console.log(item)\r\n              const measure = {\r\n                tool: tool,\r\n                note: '',\r\n                data: item\r\n              }\r\n              console.log('measure: ', measure)\r\n              this.props.measurementStore(measure)\r\n            })\r\n          }\r\n          */\r\n          //const toolState = toolStateManager.get(element, 'Length')\r\n          //console.log('toolState: ', toolState)\r\n\r\n          /*\r\n          const measurementData = {\r\n            visible: true,\r\n            active: true,\r\n            invalidated: true,\r\n            handles: {\r\n                start: {\r\n                    x: 100,\r\n                    y: 100,\r\n                    highlight: true,\r\n                    active: false\r\n                },\r\n                end: {\r\n                    x: 200,\r\n                    y: 200,\r\n                    highlight: true,\r\n                    active: true\r\n                },\r\n                textBox: {\r\n                    active: false,\r\n                    hasMoved: false,\r\n                    movesIndependently: false,\r\n                    drawnIndependently: true,\r\n                    allowedOutsideImage: true,\r\n                    hasBoundingBox: true\r\n                }\r\n              }\r\n          }\r\n          cornerstoneTools.addToolState(element, 'RectangleRoi', measurementData)    \r\n          cornerstoneTools.setToolActive('RectangleRoi', { mouseButtonMask: 1 })\r\n          */  \r\n          //cornerstone.updateImage(element)   \r\n          break\r\n        }\r\n        case 'Wwwc': {\r\n          cornerstoneTools.setToolActive('Wwwc', { mouseButtonMask: 1 })\r\n          break\r\n        }  \r\n        case 'Pan': {\r\n          cornerstoneTools.setToolActive('Pan', { mouseButtonMask: 1 })\r\n          break   \r\n        }  \r\n        case 'Zoom': {\r\n          cornerstoneTools.setToolActive(isMobile ? 'ZoomTouchPinch' : 'Zoom', { mouseButtonMask: 1 })\r\n          break\r\n         }\r\n        case 'Length': {\r\n          cornerstoneTools.setToolActive('Length', isMobile ? { isTouchActive: true } : { mouseButtonMask: 1 })\r\n          break  \r\n        }\r\n        case 'Probe': {\r\n            cornerstoneTools.setToolActive('Probe', { mouseButtonMask: 1 })\r\n          break\r\n        }\r\n        case 'EllipticalRoi': {\r\n          cornerstoneTools.setToolActive('EllipticalRoi', { mouseButtonMask: 1 })\r\n          break   \r\n        }\r\n        case 'RectangleRoi': {\r\n          cornerstoneTools.setToolActive('RectangleRoi', { mouseButtonMask: 1 })\r\n          break  \r\n        }\r\n        case 'Angle': {\r\n          cornerstoneTools.setToolActive('Angle', { mouseButtonMask: 1 })\r\n          break \r\n        }\r\n        case 'Magnify': {\r\n          cornerstoneTools.setToolActive('Magnify', { mouseButtonMask: 1 })\r\n          break  \r\n        }\r\n        case 'FreeformRoi': {\r\n          cornerstoneTools.setToolActive('FreehandRoi', { mouseButtonMask: 1 })\r\n          break \r\n        }\r\n        case 'saveas': {\r\n            let type = localStorage.getItem(SETTINGS_SAVEAS)\r\n            cornerstoneTools.SaveAs(this.dicomImage, `${this.state.file.name}.${type}`, `image/${type}`)      \r\n          break\r\n        }\r\n        case 'cine': {\r\n          this.setState({ visibleCinePlayer: !this.state.visibleCinePlayer })\r\n          break\r\n        }\r\n        case 'reset': {\r\n          this.reset()\r\n          break\r\n        }\r\n        case 'removetool': {\r\n          //console.log('opt: ', opt)\r\n          const element = this.dicomImage\r\n          cornerstoneTools.removeToolState(element, this.props.measure[opt].tool, this.props.measure[opt].data)\r\n          cornerstone.updateImage(element)\r\n          this.props.measurementRemoveStore(opt)\r\n          break\r\n        }  \r\n        case 'removetools': {   \r\n          const element = this.dicomImage\r\n          // for each measurement remove it \r\n          this.props.measure.forEach(measure => {\r\n            cornerstoneTools.clearToolState(element, measure.tool)         \r\n          })\r\n          cornerstone.updateImage(element)\r\n          this.props.measurementClearStore()\r\n          // also remove all measurements from db\r\n          db.measurement.where('sopinstanceuid').equals(this.dataHeader.sopInstanceUid).delete()\r\n          break\r\n        }  \r\n        case 'savetools': {\r\n          // first, remove eventually previous measurements from db\r\n          db.measurement.where('sopinstanceuid').equals(this.dataHeader.sopInstanceUid).delete()\r\n          // then save all the current measurements\r\n          this.props.measure.forEach(measure => {\r\n            try {\r\n              db.measurement.add({\r\n                sopinstanceuid: this.dataHeader.sopInstanceUid, \r\n                tool: measure.tool,\r\n                note: measure.note,\r\n                data: measure.data\r\n              })\r\n            } catch(error) {\r\n              console.error(error)\r\n            }                       \r\n          })\r\n          break\r\n        }\r\n        default: {\r\n          break\r\n        }\r\n      }\r\n    } \r\n\r\n    changeTool = (toolName, value) => {\r\n      console.log('change tool, value: ', toolName, value)\r\n\r\n      switch (toolName) {\r\n        case 'Wwwc':\r\n          if (value === 1) {\r\n            cornerstoneTools.setToolActive('Wwwc', { mouseButtonMask: 1 })\r\n          } else if (value === 0) {\r\n            cornerstoneTools.setToolPassive('Wwwc')\r\n          }\r\n          break  \r\n        case 'Pan':\r\n          if (value === 1) {\r\n            cornerstoneTools.setToolActive('Pan', { mouseButtonMask: 1 })\r\n          } else if (value === 0) {\r\n            cornerstoneTools.setToolPassive('Pan')\r\n          }\r\n          break    \r\n        case 'Zoom':\r\n          if (value === 1) {\r\n            cornerstoneTools.setToolActive(isMobile ? 'ZoomTouchPinch' : 'Zoom', { mouseButtonMask: 1 })\r\n          } else if (value === 0) {\r\n            cornerstoneTools.setToolPassive(isMobile ? 'ZoomTouchPinch' : 'Zoom')\r\n          }\r\n          break                             \r\n        case 'Length':\r\n          if (value === 1) {\r\n            cornerstoneTools.setToolActive('Length', isMobile ? { isTouchActive: true } : { mouseButtonMask: 1 })\r\n          } else if (value === 0) {\r\n            cornerstoneTools.setToolPassive('Length')\r\n          }\r\n          break   \r\n        case 'Probe':\r\n          if (value === 1) {\r\n            cornerstoneTools.setToolActive('Probe', { mouseButtonMask: 1 })\r\n          } else if (value === 0) {\r\n            cornerstoneTools.setToolPassive('Probe')\r\n          }\r\n          break        \r\n        case 'Angle':\r\n          if (value === 1) {\r\n            cornerstoneTools.setToolActive('Angle', { mouseButtonMask: 1 })\r\n          } else if (value === 0) {\r\n            cornerstoneTools.setToolPassive('Angle')\r\n          }          \r\n          break   \r\n        case 'Magnify':\r\n          if (value === 1) {\r\n            cornerstoneTools.setToolActive('Magnify', { mouseButtonMask: 1 })\r\n          } else if (value === 0) {\r\n            cornerstoneTools.setToolPassive('Magnify')\r\n          }          \r\n          break        \r\n        case 'EllipticalRoi':\r\n          if (value === 1) {\r\n            cornerstoneTools.setToolActive('EllipticalRoi', { mouseButtonMask: 1 })\r\n          } else if (value === 0) {\r\n            cornerstoneTools.setToolPassive('EllipticalRoi')\r\n          }\r\n          break   \r\n        case 'RectangleRoi':\r\n          if (value === 1) {\r\n            cornerstoneTools.setToolActive('RectangleRoi', { mouseButtonMask: 1 })\r\n          } else if (value === 0) {\r\n            cornerstoneTools.setToolPassive('RectangleRoi')\r\n          }\r\n          break\r\n        case 'FreehandRoi':\r\n          if (value === 1) {\r\n            cornerstoneTools.setToolActive('FreehandRoi', { mouseButtonMask: 1 })\r\n          } else if (value === 0) {\r\n            cornerstoneTools.setToolPassive('FreehandRoi')\r\n          }\r\n          break     \r\n        default:\r\n            break\r\n        }  \r\n      }\r\n\r\n    runCinePlayer = (cmdName) => {\r\n      console.log('run cine player: ', cmdName)\r\n      const element = this.dicomImage\r\n      switch (cmdName) {\r\n        case 'firstframe':\r\n          this.setState({frame: 1})\r\n          scrollToIndex(element, this.state.frame)\r\n          break\r\n        case 'previousframe':\r\n          if (this.state.frame > 1) {\r\n            this.setState({frame: this.state.frame-1})\r\n            scrollToIndex(element, this.state.frame)\r\n          }\r\n          break\r\n        case 'play':\r\n          cornerstoneTools.playClip(element, 30)\r\n          this.setState({inPlay: true})\r\n          break\r\n        case 'pause':\r\n            cornerstoneTools.stopClip(element)\r\n            this.setState({inPlay: false})\r\n          break\r\n        case 'nextframe':\r\n          if (this.state.frame < this.props.numberOfFrames) {\r\n            this.setState({frame: this.state.frame+1})\r\n            scrollToIndex(element, this.state.frame)\r\n          }\r\n          break  \r\n        case 'lastframe':\r\n          this.setState({frame: this.props.numberOfFrames-1})\r\n          scrollToIndex(element, this.state.frame)\r\n          break                           \r\n        default:\r\n          break\r\n      }  \r\n    }\r\n\r\n    reset = () => {\r\n      const element = this.dicomImage\r\n      const defaultViewport = cornerstone.getDefaultViewportForImage(element, this.image)\r\n      let viewport = cornerstone.getViewport(element)\r\n      viewport.voi.windowWidth = defaultViewport.voi.windowWidth\r\n      viewport.voi.windowCenter = defaultViewport.voi.windowCenter\r\n      cornerstone.setViewport(element, viewport)\r\n    }\r\n\r\n    dicomImageRef = el => {\r\n      this.dicomImage = el;\r\n    };\r\n    \r\n    render() {\r\n      //console.log('window.innerWidth: ', window.innerWidth)\r\n      //console.log('window.innerHeight: ', window.innerHeight)\r\n      //console.log('this.imageWidth: ', this.imageWidth)\r\n      //console.log('this.imageHeight: ', this.imageHeight)\r\n\r\n      this.props.visible ? document.body.style = 'background: #000000;' : document.body.style = 'background: $md-grey-700;'\r\n\r\n      const visibleOpenUrlDlg = this.state.visibleOpenUrlDlg\r\n      const progress = this.state.progress\r\n\r\n      const styleDicomImage = {\r\n        width: this.state.imageWidth, //this.imageWidth,\r\n        height: this.state.imageHeight, //this.imageHeight,\r\n        top: {heightToolbar},\r\n        left: 0,\r\n        position: \"absolute\"\r\n      }\r\n\r\n      const overlay = getSettingsOverlay() // localStorage.getItem(SETTINGS_OVERLAY) === '1'\r\n\r\n      //console.log('this.props.visible', this.props.visible)\r\n      //console.log('this.state.visibleOpenUrlDlg: ', this.state.visibleOpenUrlDlg)\r\n      \r\n      let cinePlayer = null\r\n      let frameLabel = null\r\n      if (this.state.visibleCinePlayer && this.props.numberOfFrames > 1) {\r\n        cinePlayer = (<CinePlayer runCinePlayer={this.runCinePlayer} inPlay={this.state.inPlay} />)\r\n        frameLabel = (<div id=\"frameLabel\" style={{ width:300, margin:'0 auto', marginTop:-10, textAlign:\"center\", color:\"#808080\" }}>{this.state.frame} / {this.props.numberOfFrames}</div>)\r\n      } \r\n\r\n      return (\r\n        <div className=\"container\" style={{ display: this.props.visible === true ? 'block' : 'none'}}>\r\n          {visibleOpenUrlDlg ? <OpenUrlDlg progress={progress} onClose={this.hideOpenUrlDlg}/>: null}\r\n          <div className=\"col-9\">\r\n              <div\r\n                role=\"button\"\r\n                tabIndex=\"0\"\r\n                style={{\r\n                  width: this.state.imageWidth, //this.imageWidth,\r\n                  height: this.state.imageHeight, // this.imageHeight,\r\n                  position: \"relative\",\r\n                  display: \"inline-block\",\r\n                  color: \"white\"\r\n                }}\r\n                onContextMenu={() => false}\r\n                className=\"cornerstone-enabled-image\"\r\n                unselectable=\"on\"\r\n                onMouseDown={() => false}\r\n              >\r\n                <div\r\n                  ref={this.dicomImageRef}\r\n                  style={styleDicomImage}\r\n                />\r\n                <div\r\n                  id=\"mrtopleft\"\r\n                  style={{ position: \"absolute\", top: 0, left: 3, display: this.props.isOpen && overlay ? \"block\" : \"none\" }}\r\n                >\r\n                  Patient Name\r\n                </div>\r\n                <div\r\n                  id=\"mrtopright\"\r\n                  style={{ position: \"absolute\", top: 0, right: 3, display: this.props.isOpen && overlay ? \"block\" : \"none\" }}\r\n                >\r\n                  Size\r\n                </div>\r\n                <div\r\n                  id=\"mrbottomright\"\r\n                  style={{ position: \"absolute\", bottom: 3, right: 3, display: this.props.isOpen && overlay ? \"block\" : \"none\" }}\r\n                >\r\n                  Zoom:\r\n                </div>\r\n                <div\r\n                  id=\"mrbottomleft\"\r\n                  style={{ position: \"absolute\", bottom: 3, left: 3, display: this.props.isOpen && overlay ? \"block\" : \"none\" }}\r\n                >\r\n                  WW/WC:\r\n                </div>      \r\n                <div style={{position: \"fixed\", bottom:30, width:'100%'}}>\r\n                  {cinePlayer}  \r\n                  {frameLabel}                \r\n                </div>          \r\n            </div>\r\n          </div>\r\n        </div>\r\n      )\r\n    }\r\n  }\r\n  \r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    localfile: state.loadLocalfile,\r\n    url: state.url,\r\n    isOpen: state.isOpen,\r\n    numberOfFrames: state.numberOfFrames,\r\n    tool: state.tool,\r\n    header: state.header,\r\n    measure: state.measure\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    localfileStore: (file) => dispatch(loadLocalfile(file)),\r\n    isOpenStore: (value) => dispatch(dcmIsOpen(value)),\r\n    numberOfFramesStore: (value) => dispatch(dcmNumberOfFrames(value)),\r\n    toolStore: (tool) => dispatch(dcmTool(tool)),\r\n    urlStore: (url) => dispatch(loadUrl(url)),\r\n    dataStore: (data) => dispatch(dcmDataStore(data)),\r\n    measurementStore: (measure) => dispatch(measureStore(measure)),\r\n    measurementRemoveStore: (index) => dispatch(measureRemove(index)),\r\n    measurementClearStore: () => dispatch(measureClear()),\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(DicomViewer)\r\n","import React from 'react'\r\nimport { ListItem } from 'react-md'\r\n\r\nconst HeaderItem = ({name, value}) => {\r\n    \r\n    const pStyle = {\r\n        fontSize: '12px',\r\n        textAlign: 'left'\r\n    }\r\n\r\n    return (\r\n        <ListItem\r\n            primaryText={name}\r\n            secondaryText={value}\r\n            threeLines={value.length > 30}\r\n            secondaryTextStyle={pStyle}\r\n        />\r\n    )\r\n}\r\n  \r\nexport default HeaderItem\r\n","import React, { PureComponent } from 'react'\r\nimport { Button, DialogContainer, ListItem, TextField } from 'react-md'\r\nimport {connect} from 'react-redux'\r\n\r\nconst pStyle = {\r\n    fontSize: '13px',\r\n    textAlign: 'left'\r\n}\r\n\r\nconst sStyle = {\r\n    fontSize: '12px',\r\n    textAlign: 'left'\r\n}\r\n\r\nclass MeasureItem extends PureComponent {\r\n\r\n    state = { \r\n        visibleDlgNote: false,\r\n        visibleDlgDelete: false\r\n    }\r\n\r\n    showDlgNote = () => {\r\n        this.setState({ visibleDlgNote: true })\r\n    }\r\n    \r\n    hideDlgNote = () => {\r\n        this.setState({ visibleDlgNote: false })\r\n    }\r\n\r\n    showDlgDelete = () => {\r\n        this.setState({ visibleDlgDelete: true })\r\n    }\r\n    \r\n    hideDlgDelete = () => {\r\n        this.setState({ visibleDlgDelete: false })\r\n    }\r\n\r\n    confirmNote = (index) => {\r\n        this.hideDlgNote()\r\n        let note = this.refs.noteField.value\r\n        this.props.measure[index].note = note\r\n    }   \r\n\r\n    confirmDelete = (index) => {\r\n        this.hideDlgDelete()\r\n        this.props.toolRemove(index)\r\n    }\r\n\r\n    onEdit = () => {\r\n        this.showDlgNote()\r\n    }\r\n    \r\n    onDelete = () => {\r\n        this.showDlgDelete()\r\n    }\r\n    \r\n    \r\n    render() {    \r\n        let item = this.props.item\r\n        let index = this.props.index\r\n        let pText = ''\r\n        let sText = ''\r\n        \r\n        switch (item.tool) {\r\n            case 'Length':\r\n                pText = `${item.data.length.toFixed(2)} ${item.data.unit}`\r\n                sText = item.note\r\n                break\r\n            case 'Angle':\r\n                pText = `${item.data.rAngle} `\r\n                sText = item.note\r\n                break\r\n            case 'EllipticalRoi':\r\n                pText = <div>\r\n                            <div> A: {item.data.cachedStats.area.toFixed(2)} mm </div>\r\n                            <div> M: {item.data.cachedStats.mean.toFixed(2)} {item.data.unit} </div>\r\n                            <div> SD: {item.data.cachedStats.stdDev.toFixed(2)} {item.data.unit} </div>\r\n                        </div>\r\n                sText = item.note            \r\n                break    \r\n            case 'RectangleRoi':\r\n                pText = <div>\r\n                            <div> A: {item.data.cachedStats.area.toFixed(2)} mm </div>\r\n                            <div> M: {item.data.cachedStats.mean.toFixed(2)} {item.data.unit} </div>\r\n                    <       div> SD: {item.data.cachedStats.stdDev.toFixed(2)} {item.data.unit} </div>\r\n                        </div>\r\n                sText = item.note\r\n                break                      \r\n            default:\r\n                break    \r\n        }\r\n\r\n        return (\r\n            <div>\r\n                <ListItem \r\n                    primaryText={pText}\r\n                    secondaryText={sText}\r\n                    threeLines\r\n                    primaryTextStyle={pStyle}\r\n                    secondaryTextStyle={sStyle}\r\n                    renderChildrenOutside\r\n                >\r\n                    <Button icon primary onClick={() => this.onEdit(index)}>edit</Button>\r\n                    <Button icon primary onClick={() => this.onDelete(index)}>delete</Button>\r\n                </ListItem>\r\n                <DialogContainer\r\n                    id=\"note-dialog\"\r\n                    visible={this.state.visibleDlgNote}\r\n                    onHide={this.hideDlgNote}\r\n                    actions={[\r\n                        <Button flat secondary onClick={this.hideDlgNote}>Cancel</Button>,\r\n                        <Button flat primary onClick={() => this.confirmNote(index)}>Confirm</Button>,\r\n                    ]}\r\n                    title=\"Note for measurement\"\r\n                >\r\n                    <TextField\r\n                        id=\"note-dialog-field\"\r\n                        ref=\"noteField\"\r\n                        label=\"\"\r\n                        placeholder=\"\"\r\n                        defaultValue=\"\"\r\n                    />\r\n                </DialogContainer>\r\n                <DialogContainer\r\n                    id=\"delete-dialog\"\r\n                    visible={this.state.visibleDlgDelete}\r\n                    onHide={this.hideDlgDelete}\r\n                    actions={[\r\n                        <Button flat secondary onClick={this.hideDlgDelete}>No</Button>,\r\n                        <Button flat primary onClick={() => this.confirmDelete(index)}>Yes</Button>,\r\n                    ]}\r\n                    title=\"Are you sure to delete the measurement?\"\r\n                />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n  \r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        measure: state.measure\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, )(MeasureItem)\r\n","import React from 'react'\r\nimport { Button, Card, CardText, Checkbox, SelectionControlGroup, Toolbar } from 'react-md'\r\nimport { getSettingsSaveAs, setSettingsSaveAs, \r\n         getSettingsDcmHeader, setSettingsDcmHeader, \r\n         getSettingsOverlay, setSettingsOverlay,\r\n         getSettingsMeasurement, setSettingsMeasurement } from '../functions'\r\n\r\nconst style = { maxWidth: window.innerWidth-40 }\r\n\r\nconst indexedDBsection = (isIndexedDB, measurement) => {\r\n  if (isIndexedDB) {\r\n    return(\r\n      <Card className=\"md-block-centered\" style={style}>\r\n      <CardText>  \r\n        <Checkbox\r\n          id=\"checkbox-measurement\"\r\n          name=\"checkbox-measurement[]\"\r\n          label=\"Save Measurement\"\r\n          defaultChecked={measurement === '1' ? true : false }\r\n          onChange= {(value) => {\r\n            measurement = value ? '1' : '0'   \r\n            setSettingsMeasurement(measurement)\r\n          }}\r\n        />\r\n      </CardText>\r\n    </Card>    \r\n    )\r\n  } else return\r\n}\r\nconst Settings = ({ onClose }) => {\r\n  \r\n  let exportAs = getSettingsDcmHeader()\r\n  let saveAs = getSettingsSaveAs()\r\n  let overlay = getSettingsOverlay()\r\n  let measurement = getSettingsMeasurement()\r\n\r\n  const isIndexedDB = 'indexedDB' in window\r\n  \r\n  return (\r\n      <div>\r\n        <Toolbar\r\n          fixed\r\n          nav={<Button icon onClick={() => onClose(false)}>close</Button>}\r\n          title={'Settings'}\r\n        />\r\n        <Card className=\"md-block-centered\" style={style}>\r\n          <CardText>\r\n            <SelectionControlGroup\r\n              id=\"selection-control-group-radios-1\"\r\n              name=\"radio-saveas\"\r\n              type=\"radio\"\r\n              label=\"Save screenshot as:\"\r\n              defaultValue={saveAs}\r\n              onChange={(value) => {setSettingsSaveAs(value)}}\r\n              controls={[{\r\n                label: 'JPEG',\r\n                value: 'jpeg',\r\n              }, {\r\n                label: 'PNG',\r\n                value: 'png',\r\n              }]}            \r\n            />\r\n          </CardText>\r\n        </Card>\r\n        <br />      \r\n        <Card className=\"md-block-centered\" style={style}>\r\n          <CardText>\r\n            <SelectionControlGroup\r\n              id=\"selection-control-group-radios-2\"\r\n              name=\"radio-export-header\"\r\n              type=\"radio\"\r\n              label=\"Export Dicom header as:\"\r\n              defaultValue={exportAs}\r\n              onChange= {(value) => {setSettingsDcmHeader(value)}}\r\n              controls={[{\r\n                label: 'JSON',\r\n                value: 'json',\r\n              }, {\r\n                label: 'CSV',\r\n                value: 'csv',\r\n              }]}            \r\n            />          \r\n          </CardText>\r\n        </Card>\r\n        <br />      \r\n        <Card className=\"md-block-centered\" style={style}>\r\n          <CardText>  \r\n            <Checkbox\r\n              id=\"checkbox-read-material-design-spec\"\r\n              name=\"simple-checkboxes[]\"\r\n              label=\"Overlay Information\"\r\n              defaultChecked={overlay === '1' ? true : false }\r\n              onChange= {(value) => {\r\n                overlay = value ? '1' : '0'\r\n                setSettingsOverlay(overlay)\r\n              }}\r\n            />\r\n          </CardText>\r\n        </Card>\r\n        <br />     \r\n        { indexedDBsection(isIndexedDB, measurement) }\r\n      </div>\r\n  )\r\n}\r\n\r\nexport default Settings\r\n","import React, { PureComponent } from 'react'\r\nimport { Button, TextField, Toolbar } from 'react-md'\r\n\r\nconst styleUrl = {\r\n    position: \"relative\",\r\n    width: \"98%\"\r\n}\r\n\r\nconst styleText = {\r\n    width: \"90%\",\r\n    padding: \"15px\"\r\n}\r\n\r\nconst styleButton = {\r\n    position: \"absolute\",\r\n    right: \"0px\",\r\n    top: \"12px\",\r\n}\r\n\r\n// http://medistim.com/wp-content/uploads/2016/07/bmode.dcm\r\n// https://raw.githubusercontent.com/cornerstonejs/cornerstoneWADOImageLoader/master/testImages/CT2_J2KR\r\n// http://www.lodevelop.it/download/bmode.dcm\r\n\r\nclass OpenUrl extends PureComponent {\r\n    constructor(props) {\r\n        super(props)\r\n        this.urlField = React.createRef()\r\n      }\r\n\r\n    onClick = () => {\r\n        this.props.onClose(true, this.urlField.current.value)\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"md-grid\">\r\n                <Toolbar\r\n                    fixed\r\n                    nav={<Button icon onClick={() => this.props.onClose(false)}>close</Button>}\r\n                    title={'Open URL'}\r\n                />\r\n                <div style={styleUrl}>\r\n                    <TextField \r\n                        fullWidth \r\n                        id=\"idUrl\" \r\n                        ref={this.urlField} \r\n                        placeholder=\"URL\" \r\n                        style={styleText} \r\n                        value='' />\r\n                    <Button \r\n                        icon\r\n                        style={styleButton} \r\n                        onClick={this.onClick}>get_app</Button>\r\n                </div>\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default OpenUrl\r\n","import React, { PureComponent } from 'react'\nimport CSSTransitionGroup from 'react-transition-group/CSSTransitionGroup'\n//import { withRouter } from 'react-router'\n//import { Link, Route, Switch } from 'react-router-dom'\nimport { Button, DialogContainer, Drawer, Toolbar } from 'react-md'\nimport { FontIcon } from 'react-md'\n//import { SVGIcon } from 'react-md'\nimport {connect} from 'react-redux'\nimport DicomViewer from './components/dicomviewer'\nimport HeaderItem from './components/HeaderItem'\nimport MeasureItem from './components/MeasureItem'\nimport Settings from './components/Settings'\nimport OpenUrl from './components/OpenUrl'\nimport { SETTINGS_DCMHEADER } from './constants/settings'\nimport { toCsv } from './functions'\nimport {deviceDetect} from 'react-device-detect'\n//import OpenUrlDlg from './components/OpenUrlDlg'\nimport {dcmTool} from './actions/index'\n//import { GiArrowCursor } from 'react-icons/gi'\nimport Icon from '@mdi/react'\nimport { mdiCursorDefault, mdiFileDocument, mdiFileCad, mdiTrashCanOutline, mdiContentSaveOutline } from '@mdi/js'\n\nimport './App.css';\n\nconst iconColor = '#BDBDBD'\nlet iconTool = null\n\nclass App extends PureComponent {\n\n  constructor(props) {\n    super(props);\n    this.file = null;\n    this.fileOpen = React.createRef();\n    this.showFileOpen = this.showFileOpen.bind(this);\n    \n  }\n\n  menuListItems = [\n    {\n      key: 'openfile',\n      primaryText: 'Open File ...',\n      leftIcon: <FontIcon>folder</FontIcon>,\n      onClick: () => {this.showFileOpen()},\n    }, {\n      key: 'openurl',\n      primaryText: 'Open URL ...',\n      leftIcon: <FontIcon>cloud</FontIcon>,\n      onClick: () => {this.showOpenUrl()},\n    }, {\n      key: 'clear',\n      primaryText: 'Clear',\n      leftIcon: <FontIcon>clear</FontIcon>,\n      onClick: () => {\n        console.log('menu item clear ')\n        this.runTool.runTool('clear')\n      },\n    }, { \n      key: 'divider', \n      divider: true \n    }, {\n      key: 'notool',\n      primaryText: 'No tool',\n      leftIcon: <Icon path={mdiCursorDefault} size={'1.5rem'} color={iconColor} />,\n      onClick: () => {\n        iconTool = null\n        this.toolExecute('notool')\n      },\n    }, {       \n      key: 'Wwwc',\n      primaryText: 'WW/WC',\n      leftIcon: <FontIcon>open_with</FontIcon>,\n      onClick: () => {\n        iconTool = 'open_with'\n        this.toolExecute('Wwwc')\n      },\n    }, {     \n      key: 'Pan',\n      primaryText: 'Pan',\n      leftIcon: <FontIcon>pan_tool</FontIcon>,\n      onClick: () => {\n        iconTool = 'pan_tool'\n        this.toolExecute('Pan')\n      },\n    }, {\n      key: 'Zoom',\n      primaryText: 'Zoom',\n      leftIcon: <FontIcon>search</FontIcon>,\n      onClick: () => {\n        iconTool = 'search'\n        this.toolExecute('Zoom')\n      },\n    }, {\n      key: 'Magnify',\n      primaryText: 'Magnify',\n      leftIcon: <FontIcon>image_search</FontIcon>,\n      onClick: () => {\n        iconTool = 'image_search'\n        this.toolExecute('Magnify')\n      },\n    }, {      \n      key: 'Length',\n      primaryText: 'Length',\n      leftIcon: <FontIcon>straighten</FontIcon>,\n      onClick: () => {\n        iconTool = 'straighten'\n        this.toolExecute('Length')\n      },\n    }, {\n      key: 'Probe',\n      primaryText: 'Probe',\n      leftIcon: <FontIcon>trip_origin</FontIcon>,\n      onClick: () => {\n        iconTool = 'trip_origin'\n        this.toolExecute('Probe')\n      },\n    }, {\n      key: 'Angle',\n      primaryText: 'Angle',\n      leftIcon: <FontIcon>share</FontIcon>,\n      onClick: () => {\n        iconTool = 'share'\n        this.toolExecute('Angle')\n      },\n    }, {\n      key: 'EllipticalRoi',\n      primaryText: 'Elliptical Roi',\n      leftIcon: <FontIcon>vignette</FontIcon>,\n      onClick: () => {\n        iconTool = 'vignette'\n        this.toolExecute('EllipticalRoi')\n      },\n    }, {\n      key: 'RectangleRoi',\n      primaryText: 'Rectangle Roi',\n      leftIcon: <FontIcon>branding_watermark</FontIcon>,\n      onClick: () => {\n        iconTool = 'branding_watermark'\n        this.toolExecute('RectangleRoi')\n      },\n    }, /*{      \n      key: 'FreehandRoi',\n      primaryText: 'Freehand',\n      leftIcon: <FontIcon>gesture</FontIcon>,\n      onClick: () => {\n        iconTool = 'gesture'\n        this.toolExecute('FreehandRoi')\n      },\n    }*/\n  ]\n\n  menuListSetting = [\n    {\n      key: 'overlay',\n      primaryText: 'Overlay information',\n      onClick: () => {\n        console.log('menu setting overlay ')\n      },\n    }, {\n      key: 'saveas',\n      primaryText: 'Save screenshot as ...',\n      onClick: () => {\n        console.log('menu setting saveas ')\n      },\n    },\n  ]\n\n  state = { \n    visibleDcm: true,\n    visibleMain: false,\n    visibleHeader: false,\n    visibleSettings: false,\n    visibleToolbar: true,\n    visibleOpenUrl: false,\n    visibleMeasure: false,\n    visibleClearMeasureDlg: false,\n    toolState: 1,\n  }\n\n  showFileOpen() {\n    this.fileOpen.current.click()\n  }\n\n  handleChange = (filesSelected) => {\n    const file = filesSelected[0];\n\t  console.log('handleChange, file: ', file);\n    //this.props.onClick(this.file);\n    //this.loadImage(this.file);\n    this.runTool.runTool('openfile', file)\n  }\n\n  componentDidMount() {\n    // Need to set the renderNode since the drawer uses an overlay\n    this.dialog = document.getElementById('drawer-routing-example-dialog')\n    console.log('deviceDetect: ', deviceDetect())\n  }\n\n  showDrawer = () => {\n    this.setState({ visibleMain: true })\n  }\n\n  hideDrawer = () => {\n    this.setState({ visibleMain: false })\n  }\n\n  handleVisibility = (visibleMain) => {\n    this.setState({ visibleMain })\n  }\n\n\n  showHeader = () => {\n    this.setState({ visibleHeader: true, position: 'right' })\n  }\n\n  hideHeader = () => {\n    this.setState({ visibleHeader: false })\n  }\n\n  handleVisibilityHeader = (visibleHeader) => {\n    this.setState({ visibleHeader })\n  }\n\n  saveHeader = () => {\n    let exportAs = localStorage.getItem(SETTINGS_DCMHEADER)\n    if (exportAs === null) {\n      exportAs = \"json\"\n      localStorage.setItem(SETTINGS_DCMHEADER, exportAs)\n    }  \n\n    let fileData = ''\n    \n    if (exportAs === 'csv') {\n      fileData = toCsv(this.props.header)\n    } else {\n      const obj = this.props.header.reduce((o, item) => ({ ...o, [item.name]: item.value}), {})\n      fileData = JSON.stringify(obj)\n    }\n    \n    const element = document.createElement(\"a\")\n    const file = new Blob([fileData], {type: 'text/plain'})\n    element.href = URL.createObjectURL(file)\n    element.download = `${this.props.localfile.name}.${exportAs}`\n    document.body.appendChild(element) // Required for this to work in FireFox\n    element.click()\n  }\n\n\n  saveMeasure = () => {\n    this.runTool.runTool('savetools')\n  }\n\n  \n  showMeasure = () => {\n    this.setState({ visibleMeasure: true, position: 'right' })\n  }\n\n  hideMeasure = () => {\n    this.setState({ visibleMeasure: false })\n  }\n\n  handleVisibilityMeasure = (visibleMeasure) => {\n    this.setState({ visibleMeasure })\n  }\n\n  clearMeasure = () => {\n    this.showClearMeasureDlg()\n  }\n\n  showClearMeasureDlg = () => {\n    this.setState({ visibleClearMeasureDlg: true })\n  }\n\n  hideClearMeasureDlg = () => {\n      this.setState({ visibleClearMeasureDlg: false })\n  }\n\n  confirmClearMeasureDlg = () => {\n    this.hideClearMeasureDlg()\n    this.runTool.runTool('removetools')\n  }\n\n\n  showSettings = () => {\n    this.setState({ visibleDcm: false, visibleMain: false, visibleSettings: true, visibleToolbar: false, position: 'right' });\n  }\n\n  hideSettings = () => {\n    this.setState({ visibleDcm: true, visibleSettings: false, visibleToolbar: true });\n  }\n\n  handleVisibilitySettings = (visibleSettings) => {\n    this.setState({ visibleSettings });\n  }\n\n\n  showOpenUrl = () => {\n    this.setState({ visibleDcm: false, visibleMain: false, visibleOpenUrl: true, visibleToolbar: false })\n    //this.runTool.runTool('openurl', 'https://raw.githubusercontent.com/cornerstonejs/cornerstoneWADOImageLoader/master/testImages/CT2_J2KR')\n  }\n\n  hideOpenUrl = (openDlg, url) => {\n    this.setState({ visibleDcm: true, visibleOpenUrl: false, visibleToolbar: true },\n      (openDlg) => {\n        return(openDlg ? this.runTool.runTool('openurl', url) : null)\n      })\n  }\n\n  downloadOpenUrl = () => {\n    this.setState({ visibleDcm: true, visibleOpenUrl: false, visibleToolbar: true })\n  }\n  \n  resetImage = () => {\n    console.log('resetImage: ')\n    this.runTool.runTool('reset')\n  }\n  \n  saveShot = () => {\n    console.log('saveShot: ')\n    this.runTool.runTool('saveas')\n  }\n\n  cinePlayer = () => {\n    console.log('cinePlayer: ')\n    this.runTool.runTool('cine')\n  }\n\n  toolExecute = (tool) => {\n    console.log('menu tool: ', tool)\n    if (tool === 'notool') {\n      this.setState({toolState: null})\n    }\n    this.props.toolStore(tool)\n    this.runTool.runTool(tool)\n  }\n\n  toolChange = () => {\n    console.log('toolChange: ')\n    const toolState = 1-this.state.toolState\n    this.setState({toolState: toolState}, () => {\n      this.changeTool.changeTool(this.props.tool, toolState)\n    })\n  }\n\n  toolRemove = (index) => {\n    this.runTool.runTool('removetool', index)\n  }\n  \n  render() {\n    const visibleDcm = this.state.visibleDcm\n    const visibleMain = this.state.visibleMain\n    const visibleHeader = this.state.visibleHeader\n    const visibleSettings = this.state.visibleSettings\n    const visibleToolbar = this.state.visibleToolbar\n    const visibleOpenUrl = this.state.visibleOpenUrl\n    const visibleMeasure = this.state.visibleMeasure\n    \n    const styleTitleToolbar = {\n      fontSize: '15px',\n      textAlign: 'left'\n  }\n\n    const toolState = this.state.toolState === 1\n\n    return (\n      <div>\n        <div>\n          <input\n            type=\"file\"\n            id=\"my_file\"\n            style={{ display: \"none\" }}\n            ref={this.fileOpen}\n            onChange={e => this.handleChange(e.target.files)}\n          />\n        </div>\n        <Toolbar \n          fixed \n          style={{ display: visibleToolbar === true ? '' : 'none'}}\n          nav={<Button icon onClick={this.showDrawer}>menu</Button>} \n          actions={[\n            this.props.tool !== null &&  this.props.isOpen ? <Button icon primary={toolState} secondary={!toolState} onClick={this.toolChange}>{iconTool}</Button>: null,\n            this.props.numberOfFrames > 1 &&  this.props.isOpen ? <Button icon onClick={this.cinePlayer}>videocam</Button>: null,\n            this.props.isOpen ? <Button icon primary onClick={this.resetImage}>refresh</Button> : null,\n            this.props.isOpen ? <Button icon primary onClick={this.saveShot}>photo_camera</Button> : null,\n            this.props.isOpen ? <Button icon primary onClick={this.showMeasure}><Icon path={mdiFileCad} size={'1.5rem'} color={iconColor} /></Button> : null,\n            this.props.isOpen ? <Button icon primary onClick={this.showHeader}><Icon path={mdiFileDocument} size={'1.5rem'} color={iconColor} /></Button> : null,\n          ]}\n        />\n        <CSSTransitionGroup\n          component=\"div\"\n          transitionName=\"md-cross-fade\"\n          transitionEnterTimeout={300}\n          transitionLeave={false}\n          className=\"md-toolbar-relative md-grid\"\n        >\n        </CSSTransitionGroup>\n\n        <Drawer\n          type={Drawer.DrawerTypes.TEMPORARY}\n          visible={visibleMain}\n          onVisibilityChange={this.handleVisibility}\n          header={(\n            <Toolbar title=\"U Dicom Viewer\" \n              actions={[\n                <Button icon onClick={this.showSettings}>settings_applications</Button>,\n              ]}\n            />\n          )}\n          renderNode={this.dialog}\n          navItems={this.menuListItems} \n        />\n\n        <Drawer\n          type={Drawer.DrawerTypes.TEMPORARY}\n          visible={visibleMeasure}\n          position='right'\n          onVisibilityChange={this.handleVisibilityMeasure}\n          renderNode={this.dialog}\n          navItems={this.props.measure.map((item, index) => <MeasureItem item={item} index={index} toolRemove={this.toolRemove} key={index} />)} \n          header={(\n            <Toolbar\n              nav={<Button icon onClick={this.hideMeasure}>{'close'}</Button>}\n              actions={[\n                <Button icon primary onClick={this.saveMeasure}><Icon path={mdiContentSaveOutline} size={'1.5rem'} color={iconColor} /></Button>,\n                <Button icon primary onClick={this.clearMeasure}><Icon path={mdiTrashCanOutline} size={'1.5rem'} color={iconColor} /></Button>,\n              ]}\n              title={'Measures'}\n              titleStyle={styleTitleToolbar}\n              className=\"md-divider-border md-divider-border--bottom\"\n            />\n          )}\n        />\n\n        <Drawer\n          type={Drawer.DrawerTypes.TEMPORARY}\n          visible={visibleHeader}\n          position='right'\n          onVisibilityChange={this.handleVisibilityHeader}\n          renderNode={this.dialog}\n          navItems={this.props.header.map((item, index) => <HeaderItem name={item.name} value={item.value} key={index} />)} \n          header={(\n            <Toolbar\n              nav={<Button icon onClick={this.hideHeader}>{'close'}</Button>}\n              actions={[\n                <Button icon onClick={this.saveHeader}>save_alt</Button>,\n              ]}\n              title={'Dicom Header'}\n              titleStyle={styleTitleToolbar}\n              className=\"md-divider-border md-divider-border--bottom\"\n            />\n          )}\n        />\n        \n        {visibleSettings ? <Settings onClose={this.hideSettings}/>: null}\n        {visibleOpenUrl ? <OpenUrl onClose={this.hideOpenUrl}/>: null}\n\n        <DicomViewer runTool={ref => (this.runTool = ref)} changeTool={ref => (this.changeTool = ref)} visible={visibleDcm} />\n\n        <DialogContainer\n          id=\"clear-measure-dialog\"\n          visible={this.state.visibleClearMeasureDlg}\n          onHide={this.hideClearMeasureDlg}\n          actions={[\n            <Button flat secondary onClick={this.hideClearMeasureDlg}>No</Button>,\n            <Button flat primary onClick={() => this.confirmClearMeasureDlg()}>Yes</Button>,\n          ]}\n          title=\"Are you sure to remove all the measurements?\"\n        />\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    localfile: state.localfile,\n    isOpen: state.isOpen,\n    numberOfFrames: state.numberOfFrames,\n    tool: state.tool,\n    header: state.header,\n    measure: state.measure\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    toolStore: (tool) => dispatch(dcmTool(tool)),\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App)\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import {createStore} from 'redux'\r\nimport storeReducer from '../reducers/index'\r\n\r\nlet initialState = {\r\n    localfile: null,\r\n    url: null,\r\n    isOpen: false,\r\n    numberOfFrames: 1,\r\n    tool: null,\r\n    header: [],\r\n    measure: []\r\n}\r\n\r\nconst store = createStore(storeReducer, initialState,\r\n    window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__())\r\n\r\nexport default store\r\n","import {LOAD_LOCALFILE, LOAD_URL, DCM_IS_OPEN, DCM_NUMBER_OF_FRAMES, DCM_TOOL, MEASURE_STORE, MEASURE_CLEAR, MEASURE_REMOVE, DCMDATA_STORE} from '../actions'\r\n\r\nexport default function storeReducer(state={}, action) {\r\n    switch(action.type) {\r\n      case LOAD_LOCALFILE:\r\n        //console.log('storeReducer - LOAD_LOCALFILE: ', action.localfile)\r\n        return {\r\n          localfile: action.localfile,\r\n          url: null,\r\n          isOpen: false,\r\n          numberOfFrames: 1,\r\n          tool: null,\r\n          header: [],\r\n          measure: []\r\n        }    \r\n\r\n      case LOAD_URL:\r\n          return {\r\n            localfile: null,\r\n            url: action.url,\r\n            isOpen: false,\r\n            numberOfFrames: 1,\r\n            tool: null,\r\n            header: [],\r\n            measure: []\r\n          }    \r\n\r\n      case DCM_IS_OPEN:\r\n          return {\r\n            ...state,\r\n            isOpen: action.value,\r\n            header: [\r\n              ...state.header\r\n            ],\r\n            measure: [\r\n              ...state.measure\r\n            ]            \r\n          }    \r\n\r\n      case DCM_NUMBER_OF_FRAMES:\r\n          return {\r\n            ...state,\r\n            numberOfFrames: action.value,\r\n            header: [\r\n              ...state.header\r\n            ],\r\n            measure: [\r\n              ...state.measure\r\n            ]\r\n          }    \r\n\r\n      case DCM_TOOL:\r\n          return {\r\n              ...state,\r\n              tool: action.tool,\r\n              header: [\r\n                ...state.header\r\n              ],\r\n              measure: [\r\n                ...state.measure\r\n              ]  \r\n          }  \r\n\r\n      case DCMDATA_STORE:\r\n        const [name, value] = action.data\r\n        if (value === undefined) {\r\n          return state\r\n        }\r\n        return {\r\n          ...state,\r\n          header: [\r\n            ...state.header,\r\n            { 'name': name, 'value': value },\r\n          ],\r\n        }   \r\n\r\n      case MEASURE_STORE:\r\n        return {\r\n          ...state,\r\n          header: [\r\n            ...state.header\r\n          ],          \r\n          measure: [\r\n            ...state.measure,\r\n            action.measure,\r\n          ],\r\n        }   \r\n\r\n      case MEASURE_REMOVE:\r\n        let measure = [...state.measure]\r\n        measure.splice(action.index, 1)\r\n        return {\r\n          ...state,\r\n          header: [\r\n            ...state.header\r\n          ],          \r\n          measure: [\r\n            ...measure,\r\n          ],\r\n        }   \r\n\r\n      case MEASURE_CLEAR:\r\n            return {\r\n              ...state,\r\n              header: [\r\n                ...state.header\r\n              ],          \r\n              measure: [],\r\n            }  \r\n\r\n      default:\r\n          return state\r\n    }\r\n  }\r\n  ","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport WebFontLoader from 'webfontloader';\nimport {Provider} from 'react-redux'\nimport store from './store'\n\nWebFontLoader.load({\n    google: {\n        families: ['Roboto:300,400,500,700', 'Material Icons'],\n    },\n});\n\nstore.subscribe(() => console.log('store updated:', store.getState()));\n\nReactDOM.render(\n    <Provider store={store}>\n        <App />\n    </Provider>, \n    document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n "],"sourceRoot":""}